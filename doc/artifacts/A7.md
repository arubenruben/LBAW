# A7: High-level architecture. Privileges. Web resources specification

The project consists in developing a global marketplace which specializes in the sale of gaming related digital products using redemption keys.

By the end of the seventh iteration, it will be already established:

* The routes and endpoints of the platform
* All actions are defined as well as the tecnology used for that action. The input parameters that should be included in the HTTP requests are also included
* The permission of access to this routes
* JSON response are indentify and defined

## 1. Overview

<table>
    <tr>
        <td>M01: Authentication and register</td>
        <td>Resources associated with user authentication and sign in into the platform </td>
    </tr>
    <tr>
        <td>M02: Individual user profile</td>
        <td>Resources associated with personal infomation and proprety adquired/sold management </td>
    </tr>
    <tr>
        <td>M03: Administration</td>
        <td>Resources associated with the administration interface</td>
    </tr>
    <tr>
        <td>M04: Product Search and interaction </td>
        <td>Resources associated with the product searching in the website and the pages describing each product </td>
    </tr>
    <tr>
        <td>M05: Cart and checkout</td>
        <td>Resources associated with the personal shopping cart and the checkout process </td>
    </tr>
    <tr>
        <td>M06: Offer</td>
        <td>Resources associated with offer placement/canceling and discounts </td>
    </tr>
    <tr>
        <td>M07: Social Interaction</td>
        <td>Resources associated with the communitary part of the website includes reporting and feedback. </td>
    </tr>
    
</table>

###### Table 1: Overview


## 2. Permissions
<table>
    <tr>
        <td>PUB</td>
        <td>Public</td>
        <td>Group of users without any permission on the platform</td>
    </tr>
    <tr>
        <td>ATHUSER</td>
        <td>Authenticated User</td>
        <td>User which login was sucessuful. Has the privilege to access to his personal account information.  </td>
    </tr> 
    <tr>
        <td>ATVUSER</td>
        <td>Active User</td>
        <td>Authenticated user which is not banned. Has full privileges in the platform such as selling and buying products</td>
    </tr>
    <tr>
        <td>BUY</td>
        <td>Buyer</td>
        <td>Active User that after buying a product adquires privileges in the bought he made, such as possibility to submit reports and feedback</td>
    </tr>
    <tr>
        <td>SELL</td>
        <td>Seller</td>
        <td>Active User that after publishing an offer adquires privileges in the offer he made, such as possibility to cancel and edit it</td>
    </tr>
    <tr>
        <td>BAN</td>
        <td>Banned User</td>
        <td>Authenticated user that because of it behaviour has is privileges in the website reduced</td>
    </tr>
    <tr>
        <td>ADM</td>
        <td>Administrator</td>
        <td>Administrator is a special type of user which have all privileges of adding/editing and removing content </td>
    </tr>
</table>

###### Table 2: Permissions


## 3. Modules

### 3.1 Authentication and register

##### Endpoints of Module: Authentication and register
* R101: Login Form [/login]
* R102: Register Form [/register]
* R103: Admin Login Form [/admin/login or /admin/]
* R104: Login Action [/login]
* R105: Register Action [/register]
* R106: Admin Login Action [/admin/login]
* R107: Login with Google Action [/login]
* R108: Register with Google Action [/register]
 
#### R101: Login Form
<table id="r101">
    <tr>
        <td colspan="2">URL</td>
        <td colspan="4">/login </td>
    </tr>
    <tr>
        <td colspan="2">Description</td>
        <td colspan="4">View with the login form</td>
    </tr>
    <tr>
        <td colspan="2">Method</td>
        <td colspan="4">GET</td>
    </tr>
    <tr>
        <td colspan="2">UI</td>
        <td colspan="4"><a href="http://lbaw2043-piu.lbaw-prod.fe.up.pt/src/pages/homepage.php">UI01 (Sign in/up)</a></td>
    </tr>
    <tr>
        <td colspan="2">AJAX calls </td>
        <td colspan="4"><a href="#r104">R104</a></td>
    </tr>
    <tr>
        <td colspan="2">Permissions</td>
        <td colspan="2">PUB</td>
    </tr>
</table>

###### Table 3: Login Form

---

#### R102: Register Form
<table id="r102">
    <tr>
        <td colspan="2">URL</td>
        <td colspan="4">/register </td>
    </tr>
    <tr>
        <td colspan="2">Description</td>
        <td colspan="4">View with the register form</td>
    </tr>
    <tr>
        <td colspan="2">Method</td>
        <td colspan="4">GET</td>
    </tr>
    <tr>
        <td colspan="2">UI</td>
        <td colspan="4"><a href="http://lbaw2043-piu.lbaw-prod.fe.up.pt/src/pages/homepage.php">UI01 (Sign in/up)</a></td>
    </tr>
    <tr>
        <td colspan="2">AJAX calls</td>
        <td colspan="4"><a href="#r105">R105</a></td>
    </tr>
    <tr>
        <td colspan="2">Permissions</td>
        <td colspan="2">PUB</td>
    </tr>
</table>

###### Table 4: Register Form

---
 
#### R103: Admin Login Form
<table id="r103">
    <tr>
        <td colspan="2">URL</td>
        <td colspan="4">/admin/login or /admin/ </td>
    </tr>
    <tr>
        <td colspan="2">Description</td>
        <td colspan="4">View with the admin login form</td>
    </tr>
    <tr>
        <td colspan="2">Method</td>
        <td colspan="4">GET</td>
    </tr>
    <tr>
        <td colspan="2">UI</td>
        <td colspan="4"><a href="http://lbaw2043-piu.lbaw-prod.fe.up.pt/src/pages/admin_login.php">UI19 (Admin Page - Login)</a></td>
    </tr>
    <tr>
        <td colspan="2">Submit</td>
        <td colspan="4"><a href="#r106">R106</a></td>
    </tr>
    <tr>
        <td colspan="2">Permissions</td>
        <td colspan="2">ADM</td>
    </tr>
</table>

###### Table 5: Admin Login Form

---

#### R104: Login Action
<table id="r104">
  <tr>
    <td colspan="2">URL</td>
    <td colspan="4">/login</td>
  </tr>
  <tr>
    <td colspan="2">Description</td>
    <td colspan="4">Action to submit the login request.</td>
  </tr>
  <tr>
      <td colspan="2">Method</td>
      <td colspan="4">POST</td>
  </tr>
  <tr>
      <td colspan="2" rowspan="2">Request Body</td>
      <td colspan="2">+userName: string</td>
      <td colspan="2">Username to check login</td>
  </tr>
  <tr>
      <td colspan="2">+password: string</td>
      <td colspan="2">Password to check login</td>
  </tr>
  <tr>
      <td colspan="2" rowspan="3">Returns</td>
      <td colspan="2">200 OK</td>
      <td colspan="2">The login is successful and the login modal is closed</td>
  </tr>
   <tr>
      <td colspan="2">400 Bad Request</td>
      <td colspan="2">The form is malformed</td>
  </tr>
  <tr>
      <td colspan="2">401 Unauthorized</td>
      <td colspan="2">The login was wrong. A message broadcasting the error is displayed in the modal</td>
  </tr>
  <tr>
      <td colspan="2">Permissions</td>
      <td colspan="4">PUB</td>
  </tr>
</table>

###### Table 6: Login Action

---

#### R105: Register Action
<table id="r105">
  <tr>
    <td colspan="2">URL</td>
    <td colspan="4">/register</td>
  </tr>
  <tr>
    <td colspan="2">Description</td>
    <td colspan="4">Action to submit the register request.</td>
  </tr>
  <tr>
      <td colspan="2">Method</td>
      <td colspan="4">POST</td>
  </tr>
  <tr>
      <td colspan="2" rowspan="2">Request Body</td>
      <td colspan="2">+userName: string</td>
      <td colspan="2">Username to save it into the database</td>
  </tr>
  <tr>
      <td colspan="2">+password: string</td>
      <td colspan="2">Password to save it into the database</td>
  </tr>
  <tr>
      <td colspan="2" rowspan="2">Returns</td>
      <td colspan="2">200 OK</td>
      <td colspan="2">Success</td>
  </tr>
  <tr>
      <td colspan="2">400 Bad Request</td>
      <td colspan="2">The form is malformed</td>
  </tr>
  <tr>
      <td colspan="2">Permissions</td>
      <td colspan="4">PUB</td>
  </tr>
</table>

###### Table 7: Register Action
----

#### R106: Admin Login Action
<table id="r106">
  <tr>
    <td colspan="2">URL</td>
    <td colspan="4">/admin/login</td>
  </tr>
  <tr>
    <td colspan="2">Description</td>
    <td colspan="4">Action to submit the admin login request.</td>
  </tr>
  <tr>
      <td colspan="2">Method</td>
      <td colspan="4">POST</td>
  </tr>
  <tr>
      <td colspan="2" rowspan="2">Request Body</td>
      <td colspan="2">+userName: string</td>
      <td colspan="2">Username to check login</td>
  </tr>
  <tr>
      <td colspan="2">+password: string</td>
      <td colspan="2">Password to check login</td>
  </tr>
  <tr>
      <td colspan="2" rowspan="2">Returns</td>
      <td colspan="2">200 OK</td>
      <td colspan="2">Success</td>
  </tr>
  <tr>
      <td colspan="2">400 Bad Request</td>
      <td colspan="2">The form is malformed</td>
  </tr>
  <tr>
      <td colspan="2">Permissions</td>
      <td colspan="4">ADM</td>
  </tr>
</table>

###### Table 8: Admin Login Action

---
### 3.2 Module Individual User Profile:

##### Endpoints of Module: Individual User Profile:

* R201:User Homepage/User Edit View [/user/{id} or /user/{id}/edit]
* R202:User Purchases View [/user/{id}/purchase]
* R203:User Offers View [/user/{id}/offer]
* R204:User Reports View [/user/{id}/report]
* R205:User Delete Account Action [/user/{id}]
* R206:User Delete Profile Picture Action[/user/{id}]
* R207:User Description Change Action [/user/{id}/description]
* R208:User Password Change Action [/user/{id}/password]
* R209:User Image Edit Action [/user/{id}/image]
* R210:User Image Email Edit Action [/user/{id}/email]
* R211:User Paypal Edit Aciton [/user/{id}/paypal]

#### R201: User Homepage/User Edit View:
<table id = "r201">
    <tr>
        <td colspan="2">URL</td>
        <td colspan="4">/user/{id} or /user/{id}/edit</td>
    </tr>
    <tr>
        <td colspan="2">Description</td>
        <td colspan="4">View that works simultaneously as user profile homepage but also user edit profile</td>
    </tr>
    <tr>
        <td colspan="2">Method</td>
        <td colspan="4">GET</td>
    </tr>
    <tr>
        <td colspan="2">Parameters</td>
        <td colspan="2">+id: integer</td>
        <td colspan="2">user primary key</td>
    </tr>
    <tr>
        <td colspan="2">UI</td>
        <td colspan="4"> <a href="http://lbaw2043-piu.lbaw-prod.fe.up.pt/src/pages/user.php">UI10 (User Page - Account - As own user)</a></td>
    </tr>
    <tr>
        <td colspan="2" rowspan="7">AJAX Calls</td>
        <td colspan="2"><a href="#r205">R205</a></td>
        <td colspan="2">R205 is called when deleting the account.</td>
    </tr>
    <tr>
        <td colspan="2"><a href="#r206">R206</a></td>
        <td colspan="2">R206 is called when the user delete his profile photo.</td>
    </tr>
    <tr>
        <td colspan="2"><a href="#r207">R207</a></td>
        <td colspan="2">R207 is called when the user updates his description.</td>
    </tr>
    <tr>
        <td colspan="2"><a href="#r208">R208</a></td>
        <td colspan="2">R208 is called when the user changes his password.</td>
    </tr>
    <tr>
        <td colspan="2"><a href="#r209">R209</a></td>
        <td colspan="2">R209 is called when the user edits his profile picture.</td>
    </tr>
    <tr>
        <td colspan="2"><a href="#r210">R210</a></td>
        <td colspan="2">R210 is called when the user updates his email.</td>    </tr>
    <tr>
        <td colspan="2"><a href="#r211">R211</a></td>
        <td colspan="2">R211 is called when the user edits his paypal email.</td>
    </tr>
    <tr>
        <td colspan="2">Permissions</td>
        <td colspan="4">ATHUSER</td>
    </tr>
</table>

###### Table 8: User Homepage/User Edit View

---

#### R202: User Purchases View:
<table id = "r202">
    <tr>
        <td colspan="2">URL</td>
        <td colspan="8">/user/{id}/purchase</td>
    </tr>
    <tr>
        <td colspan="2">Description</td>
        <td colspan="8">View with the purchases done</td>
    </tr>
    <tr>
        <td colspan="2">Method</td>
        <td colspan="8">GET</td>
    </tr>
    <tr>
        <td colspan="2">Parameters</td>
        <td colspan="2">+id: integer</td>
        <td colspan="2">user primary key</td>
    </tr>
    <tr>
        <td colspan="2">UI</td>
        <td colspan="8"><a href="http://lbaw2043-piu.lbaw-prod.fe.up.pt/src/pages/user_purchases.php">UI11 (User Page - Purchases - As own user)</a></td>
    </tr>
    <tr>
        <td colspan="2">Permissions</td>
        <td colspan="8">BUY or BAN</td>
    </tr>
</table>

###### Table 9: User Purchases View

---

#### R203: User Offers View:
<table id = "r203">
    <tr>
        <td colspan="2">URL</td>
        <td colspan="6">/user/{id}/offer</td>
    </tr>
    <tr>
        <td colspan="2">Description</td>
        <td colspan="6">View the offers that either active or already
        closed</td>
    </tr>
    <tr>
        <td colspan="2">Method</td>
        <td colspan="6">GET</td>
    </tr>
    <tr>
        <td colspan="2">Parameters</td>
        <td colspan="2">+id: integer</td>
        <td colspan="2">user primary key</td>
    </tr>
    <tr>
        <td colspan="2">UI</td>
        <td colspan="6"><a href="http://lbaw2043-piu.lbaw-prod.fe.up.pt/src/pages/user_offers.php">UI12 (User Page - Offers - As own user)</a></td>
    </tr>
    <tr>
        <td colspan="2">Permissions</td>
        <td colspan="6">ATVUSER</td>
    </tr>
</table>

###### Table 10: User Offers View

---

#### R204: User Reports View:
<table id = "r204">
    <tr>
        <td colspan="2">URL</td>
        <td colspan="6">/user/{id}/report</td>
    </tr>
    <tr>
        <td colspan="2">Description</td>
        <td colspan="6">View the reports that an user made.</td>
    </tr>
    <tr>
        <td colspan="2">Method</td>
        <td colspan="6">GET</td>
    </tr>
    <tr>
        <td colspan="2">Parameters</td>
        <td colspan="2">+id: integer</td>
        <td colspan="2">user primary key</td>
    </tr>
    <tr>
        <td colspan="2">UI</td>
        <td colspan="6"><a href="http://lbaw2043-piu.lbaw-prod.fe.up.pt/src/pages/user_reports.php">UI13 (User Page - Reports)</a></td>
    </tr>
    <tr>
        <td colspan="2">Permissions</td>
        <td colspan="6">ATHUSER</td>
    </tr>
</table>

###### Table 11: User Reports View

---

#### R205: User Delete Action:
<table id = "r206">
  <tr>
    <td colspan="2">User Deletion Action</td>
    <td colspan="4">/user/{id}</td>
  </tr>
  <tr>
    <td colspan="2">Description</td>
    <td colspan="4">Action to submit the account delete request.</td>
  </tr>
  <tr>
      <td colspan="2">Method</td>
      <td colspan="4">DELETE</td>
  </tr>
  <tr>
        <td colspan="2">Parameters</td>
        <td colspan="2">+id: integer</td>
        <td colspan="2">user primary key</td>
    </tr>
  <tr>
      <td colspan="2" rowspan="1">Request Body</td>
     <td colspan="2">+password: string</td>
      <td colspan="2">Password to check the account</td>
  </tr>
  <tr>
      <td colspan="2" rowspan="4">Returns</td>
      <td colspan="2">200 OK</td>
      <td colspan="2">Success</td>
  </tr>
  <tr>
      <td colspan="2">400 Bad Request</td>
      <td colspan="2">Invalid information given</td>
  </tr>
  <tr>
      <td colspan="2">401 Unauthorized </td>
      <td colspan="2">Permition not allows</td>
  </tr>
  <tr>
      <td colspan="2">404 Not Found</td>
      <td colspan="2">User not found</td>
  </tr>
  <tr>
      <td colspan="2">Permissions</td>
      <td colspan="4">AUTHUSER</td>
  </tr>
</table>

###### Table 12: User Delete Action

---

#### R206: User Delete Profile Picture Action:
<table id = "r206">
  <tr>
    <td colspan="2">User Delete Profile Picture Action</td>
    <td colspan="4">/user/{id}/image</td>
  </tr>
  <tr>
    <td colspan="2">Description</td>
    <td colspan="4">Action to delete a profile picture.</td>
  </tr>
  <tr>
      <td colspan="2">Method</td>
      <td colspan="4">DELETE</td>
  </tr>
  <tr>
        <td colspan="2">Parameters</td>
        <td colspan="2">+id: integer</td>
        <td colspan="2">user primary key</td>
    </tr>
  <tr>
      <td colspan="2" rowspan="4">Returns</td>
      <td colspan="2">200 OK</td>
      <td colspan="2">Success</td>
  </tr>
  <tr>
      <td colspan="2">400 Bad Request</td>
      <td colspan="2">Invalid information given</td>
  </tr>
  <tr>
      <td colspan="2">401 Unauthorized </td>
      <td colspan="2">Permition not allows</td>
  </tr>
  <tr>
      <td colspan="2">404 Not Found</td>
      <td colspan="2">User not found</td>
  </tr>
  <tr>
      <td colspan="2">Permissions</td>
      <td colspan="4">AUTHUSER</td>
  </tr>
</table>

###### Table 13: User Delete Profile Picture Action

---

#### R207: User Description Change Action:
<table id = "r207">
  <tr>
    <td colspan="2">User Deletion Action</td>
    <td colspan="4">/user/{id}/description</td>
  </tr>
  <tr>
    <td colspan="2">Description</td>
    <td colspan="4">Action to update the user description.</td>
  </tr>
  <tr>
      <td colspan="2">Method</td>
      <td colspan="4">PUT</td>
  </tr>
  <tr>
        <td colspan="2">Parameters</td>
        <td colspan="2">+id: integer</td>
        <td colspan="2">user primary key</td>
    </tr>
  <tr>
      <td colspan="2" rowspan="3">Request Body</td>
      <td colspan="2">+userId: integer</td>
      <td colspan="2">User id to check the account</td>
  </tr>
  <tr>
      <td colspan="2">+description: string</td>
      <td colspan="2">New description to update the profile</td>
  </tr>
  <tr>
      <td colspan="2" rowspan="4">Returns</td>
      <td colspan="2">200 OK</td>
      <td colspan="2">Success</td>
  </tr>
  <tr>
      <td colspan="2">400 Bad Request</td>
      <td colspan="2">Invalid information given</td>
  </tr>
  <tr>
      <td colspan="2">401 Unauthorized </td>
      <td colspan="2">Permition not allows</td>
  </tr>
  <tr>
      <td colspan="2">404 Not Found</td>
      <td colspan="2">User not found</td>
  </tr>
  <tr>
      <td colspan="2">Permissions</td>
      <td colspan="4">AUTHUSER</td>
  </tr>
</table>

###### Table 14: User Password Change Action


---

#### R208: User Password Change Action:
<table id = "r208">
  <tr>
    <td colspan="2">User Deletion Action</td>
    <td colspan="4">/user/{id}/password</td>
  </tr>
  <tr>
    <td colspan="2">Description</td>
    <td colspan="4">Action to update the user password.</td>
  </tr>
  <tr>
      <td colspan="2">Method</td>
      <td colspan="4">PUT</td>
  </tr>
  <tr>
        <td colspan="2">Parameters</td>
        <td colspan="2">+id: integer</td>
        <td colspan="2">user primary key</td>
    </tr>
  <tr>
      <td colspan="2" rowspan="3">Request Body</td>
      <td colspan="2">+userId: integer</td>
      <td colspan="2">User id to check the account</td>
  </tr>
  <tr>
      <td colspan="2">+currentPassword: string</td>
      <td colspan="2">Password to check the account</td>
  </tr>
  <tr>
      <td colspan="2">+newPassword: string</td>
      <td colspan="2">New password</td>
  </tr>
  <tr>
      <td colspan="2" rowspan="4">Returns</td>
      <td colspan="2">200 OK</td>
      <td colspan="2">Success</td>
  </tr>
  <tr>
      <td colspan="2">400 Bad Request</td>
      <td colspan="2">Invalid information given</td>
  </tr>
  <tr>
      <td colspan="2">401 Unauthorized </td>
      <td colspan="2">Permition not allows</td>
  </tr>
  <tr>
      <td colspan="2">404 Not Found</td>
      <td colspan="2">User not found</td>
  </tr>
  <tr>
      <td colspan="2">Permissions</td>
      <td colspan="4">AUTHUSER</td>
  </tr>
</table>

###### Table 14: User Password Change Action

---

#### R209: User Image Edit Action:
<table id = "r209">
  <tr>
    <td colspan="2">User Image Edit Action</td>
    <td colspan="4">/user/{id}/image</td>
  </tr>
  <tr>
    <td colspan="2">Description</td>
    <td colspan="4">Action to edit the current profile photo.</td>
  </tr>
  <tr>
      <td colspan="2">Method</td>
      <td colspan="4">PUT</td>
  </tr>
  <tr>
        <td colspan="2">Parameters</td>
        <td colspan="2">+id: integer</td>
        <td colspan="2">user primary key</td>
    </tr>
  <tr>
      <td colspan="2" rowspan="2">Request Body</td>
      <td colspan="2">+userId: integer</td>
      <td colspan="2">User id to check the account</td>
  </tr>
  <tr>
      <td colspan="2">+newPhoto: file</td>
      <td colspan="2">New profile photo</td>
  </tr>
  <tr>
      <td colspan="2" rowspan="4">Returns</td>
      <td colspan="2">200 OK</td>
      <td colspan="2">Success</td>
  </tr>
  <tr>
      <td colspan="2">400 Bad Request</td>
      <td colspan="2">Invalid information given</td>
  </tr>
  <tr>
      <td colspan="2">401 Unauthorized </td>
      <td colspan="2">Permition not allows</td>
  </tr>
  <tr>
      <td colspan="2">404 Not Found</td>
      <td colspan="2">User not found</td>
  </tr>
  <tr>
      <td colspan="2">Permissions</td>
      <td colspan="4">AUTHUSER</td>
  </tr>
</table>

###### Table 15: User Image Edit Action

---

#### R210: User Email Edit Action:
<table id = "r210">
  <tr>
    <td colspan="2">User Email Edit Action</td>
    <td colspan="4">/user/{id}/email</td>
  </tr>
  <tr>
    <td colspan="2">Description</td>
    <td colspan="4">Action to edit the current email.</td>
  </tr>
  <tr>
      <td colspan="2">Method</td>
      <td colspan="4">PUT</td>
  </tr>
  <tr>
        <td colspan="2">Parameters</td>
        <td colspan="2">+id: integer</td>
        <td colspan="2">user primary key</td>
    </tr>
  <tr>
      <td colspan="2" rowspan="2">Request Body</td>
      <td colspan="2">+userId: integer</td>
      <td colspan="2">User id to check the account</td>
  </tr>
  <tr>
      <td colspan="2">+newEmail: string</td>
      <td colspan="2">New email address</td>
  </tr>
  <tr>
      <td colspan="2" rowspan="4">Returns</td>
      <td colspan="2">200 OK</td>
      <td colspan="2">Success</td>
  </tr>
   <tr>
      <td colspan="2">400 Bad Request</td>
      <td colspan="2">Invalid information given</td>
  </tr>
   <tr>
      <td colspan="2">401 Unauthorized </td>
      <td colspan="2">Permition not allows</td>
  </tr>
  <tr>
      <td colspan="2">404 Not Found</td>
      <td colspan="2">User not found</td>
  </tr>
  <tr>
      <td colspan="2">Permissions</td>
      <td colspan="4">AUTHUSER</td>
  </tr>
</table>

###### Table 16: User Image Edit Action

---

#### R211: User Paypal Edit Action:
<table id = "r211">
  <tr>
    <td colspan="2">User Paypal Edit Action</td>
    <td colspan="4">/user/{id}/paypal</td>
  </tr>
  <tr>
    <td colspan="2">Description</td>
    <td colspan="4">Action to edit the current Paypal email.</td>
  </tr>
  <tr>
      <td colspan="2">Method</td>
      <td colspan="4">PUT</td>
  </tr>
  <tr>
        <td colspan="2">Parameters</td>
        <td colspan="2">+id: integer</td>
        <td colspan="2">user primary key</td>
    </tr>
  <tr>
      <td colspan="2" rowspan="2">Request Body</td>
      <td colspan="2">+userId: integer</td>
      <td colspan="2">User id to check the account</td>
  </tr>
  <tr>
      <td colspan="2">+newPaypalAddress: string</td>
      <td colspan="2">New paypalAddress address</td>
  </tr>
  <tr>
      <td colspan="2" rowspan="2">Returns</td>
      <td colspan="2">200 OK</td>
      <td colspan="2">Success</td>
  </tr>
  <tr>
      <td colspan="2">400 Invalid</td>
      <td colspan="2">Invalid information given</td>
  </tr>
  <tr>
      <td colspan="2">Permissions</td>
      <td colspan="4">AUTHUSER</td>
  </tr>
</table>

###### Table 17: User Paypal Edit Aciton

---

### 3.3 Module Administration:

##### Endpoints of module: Administration:

* R301: Admin Homepage [/admin]
* R302: Products Listing View [/admin/product]
* R303: Products Listing Action[/api/admin/product/{page}]
* R304: Products Search [/api/admin/product/search]
* R305: Product Insertion Form View [/admin/product/form]
* R306: Product Add Action [/admin/product]
* R307: Product Update View [/admin/product/{id}]
* R308: Product Update Action[/admin/product/{id}]
* R309: Product Remove Action[/admin/product/{id}]
* R310: Categories Listing View [/admin/category]
* R311: Categories Listing Action [/api/admin/category/{page}]
* R312: Categories Add Action [/admin/category]
* R313: Categories Remove Action [/admin/category/{id}]
* R314: Categories Update Action [/admin/category/{id}]
* R315: Genres Listing View [/admin/genre]
* R316: Genres Listing Action [/api/admin/genre/{page}]
* R317: Genres Add Action [/admin/genre]
* R318: Genres Remove Action [/admin/genre/{id}]
* R319: Genres Update Action [/admin/genre/{id}]
* R320: Platforms Listing View [/admin/platform]
* R321: Platforms Listing Action [/api/admin/platform/{page}]
* R322: Platforms Add Action [/admin/platform]
* R323: Platforms Remove Action [/admin/platform/{id}]
* R324: Platforms Update Action [/admin/platform/{id}]
* R325: Users Listing View [/admin/user]
* R326: Users Listing Action [/api/admin/user/{page}]
* R327: Users Search Action [/api/admin/user/search]
* R328: Users Update Action [/admin/user/{id}]
* R329: Reports Listing View [/admin/report]
* R330: Reports Listing Action [/api/admin/report/{page}]
* R331: Transactions Listing View [/admin/transaction]
* R332: Transactions Listing Action [/api/admin/transaction/{page}]
* R333: Transactions Search Action [/api/admin/transaction/search]
* R334: Reviews Listing View [/admin/review]
* R335: Reviews Listing Action [/api/admin/review/{page}]
* R336: Reviews Remove Action [/admin/review/{id}]
* R337: FAQ Listing View [/admin/faq]
* R338: FAQ Listing Action [/api/admin/faq/{page}]
* R339: FAQ Add Action [/admin/faq]
* R340: FAQ Update Action [/admin/faq/{id}]
* R341: FAQ Remove Action [/admin/faq/{id}]

#### R301: Admin Homepage
<table id = "r301">
    <tr>
        <td colspan="2">URL</td>
        <td colspan="6">/admin</td>
    </tr>
    <tr>
        <td colspan="2">Description</td>
        <td colspan="6">View the Admin homepage</td>
    </tr>
    <tr>
        <td colspan="2">Method</td>
        <td colspan="6">GET</td>
    </tr>
    <tr>
        <td colspan="2">UI</td>
        <td colspan="6"><a href="http://lbaw2043-piu.lbaw-prod.fe.up.pt/src/pages/admin.php">UI18 (Admin Page - Dashboard)</a></td>
    </tr>
    <tr>
        <td colspan="2">Permissions</td>
        <td colspan="6">ADM</td>
    </tr>
</table>

###### Table 18: Admin Homepage

---

#### R302: Products Listing View
<table id = "r302">
  <tr>
    <td colspan="2">URL</td>
    <td colspan="4">/admin/product</td>
  </tr>
  <tr>
    <td colspan="2">Description</td>
    <td colspan="4">Page that will allow the user to navigate through and choose products</td>
  </tr>
  <tr>
      <td colspan="2">Method</td>
      <td colspan="4">GET</td>
  </tr>
  <tr>
        <td colspan="2">UI</td>
        <td colspan="6"><a href="http://lbaw2043-piu.lbaw-prod.fe.up.pt/src/pages/products_list.phpp">UI06 (Admin Page - Dashboard)</a></td>
    </tr>
  <tr>
        <td colspan="2" rowspan="3">AJAX calls </td>
        <td colspan="2"><a href="#r303">R303</a></td>
        <td colspan="2" rowspan="1">Called by the platform on the page rendering process.</td>        
  </tr>
  <tr>
        <td colspan="2"><a href="#r304">R304</a></td>
        <td colspan="2" rowspan="1">Search mecanism, just called when a search happens.</td>
  </tr>
  <tr>
        <td colspan="2"><a href="#r309">R309</a></td>
        <td colspan="2" rowspan="1">Called when removing a product.</td>
  </tr>
  <tr>
      <td colspan="2">Permissions</td>
      <td colspan="4">ADM</td>
  </tr>
</table>

###### Table 19: Products Listing View

---

#### R303: Products Listing Action
<table id = "r303">
  <tr>
    <td colspan="2">URL</td>
    <td colspan="4">/api/admin/product/{page}</td>
  </tr>
  <tr>
    <td colspan="2">Description</td>
    <td colspan="4">Request to return the list of products information</td>
  </tr>
  <tr>
      <td colspan="2">Method</td>
      <td colspan="4">GET</td>
  </tr>
  <tr>
      <td colspan="2">Parameters</td>
      <td colspan="2">+page: integer</td>
      <td colspan="2">Results paging</td>
  </tr>
  <tr>
  <tr>
      <td colspan="2">Response Body</td>
      <td colspan="4"><a href="#j303">JSON303</a></td>
  </tr>
  <tr>
      <td colspan="2">Permissions</td>
      <td colspan="4">ADM</td>
  </tr>
</table>

###### Table 20: Products Listing Action

---

#### R304: Products Search Action
<table id = "r307">
  <tr>
    <td colspan="2">URL</td>
    <td colspan="4">/api/admin/product/search</td>
  </tr>
  <tr>
    <td colspan="2">Description</td>
    <td colspan="4">Request to return a list of products from a search</td>
  </tr>
  <tr>
      <td colspan="2">Method</td>
      <td colspan="4">GET</td>
  </tr>
  <tr>
        <td colspan="2">Parameters</td>
          <td colspan="2">?searchString: string</td>
      <td colspan="2">String to use as element of searching</td>
  </tr>
  <tr>
      <td colspan="2">Response Body</td>
      <td colspan="4"><a href="#j304">JSON304</a></td>
  </tr>
  <tr>
      <td colspan="2">Permissions</td>
      <td colspan="4">ADM</td>
  </tr>
</table>

###### Table 21: Products Search

---

#### R305: Product Insertion Form View 
<table id = "r305">
    <tr>
        <td colspan="2">URL</td>
        <td colspan="4">/admin/product/form</td>
    </tr>
    <tr>
        <td colspan="2">Description</td>
        <td colspan="4">View to insert a new product </td>
    </tr>
    <tr>
        <td colspan="2">Method</td>
        <td colspan="4">GET</td>
    </tr>
    <tr>
        <td colspan="2">UI21</td>
        <td colspan="4">Admin Page - Add/Edit Product</td>
    </tr>
    <tr>
        <td colspan="2">Submit</td>
        <td colspan="4"><a href="#r306">R306</a></td>
    </tr>
    <tr>
        <td colspan="2">Permissions</td>
        <td colspan="2">ADM</td>
    </tr>
</table>

###### Table 22: Product Insertion Form View 

---

#### R306: Product Add Action
<table id = "r306">
  <tr>
    <td colspan="2">URL</td>
    <td colspan="4">/admin/product</td>
  </tr>
  <tr>
    <td colspan="2">Description</td>
    <td colspan="4">Action to submit the product insertion requests.</td>
  </tr>
  <tr>
      <td colspan="2">Method</td>
      <td colspan="4">POST</td>
  </tr>
  <tr>
      <td colspan="2" rowspan="6">Request Body</td>
      <td colspan="2">+productName: string</td>
      <td colspan="2">Name of the new product</td>
  </tr>
  <tr>
      <td colspan="2">+gameDescription: string</td>
      <td colspan="2">Text with the description for the product</td>
  </tr>
  <tr>
      <td colspan="2">+genres: array</td>
      <td colspan="2">Array of id of genres</td>
  </tr>
  <tr>
      <td colspan="2">+platforms: array</td>
      <td colspan="2">Array of id of platforms</td>
  </tr>
  <tr>
      <td colspan="2">+categoryId: integer</td>
      <td colspan="2">Id of game category</td>
  </tr>
  <tr>
      <td colspan="2">+photo: file</td>
      <td colspan="2">Photo that describes the game</td>
  </tr>
  <tr>
      <td colspan="2">Redirects</td>
      <td colspan="2"><a href="#r302">R302</a></td>
      <td colspan="2">Success</td>
  </tr>
  <tr>
      <td colspan="2">Permissions</td>
      <td colspan="4">ADM</td>
  </tr>
</table>

###### Table 23: Product Add Action

---

#### R307: Product Update View
<table id = "r307">
    <tr>
        <td colspan="2">URL</td>
        <td colspan="4">/admin/product/{id}</td>
    </tr>
    <tr>
        <td colspan="2">Description</td>
        <td colspan="4">View to update the product information </td>
    </tr>
    <tr>
        <td colspan="2">Method</td>
        <td colspan="4">GET</td>
    </tr>
    <tr>
        <td colspan="2">Parameters</td>
          <td colspan="2">+id: integer</td>
      <td colspan="2">Product id</td>
  </tr>
    <tr>
        <td colspan="2">UI21</td>
        <td colspan="4">Admin Page - Add/Edit Product</td>
    </tr>
    <tr>
        <td colspan="2">Submit</td>
        <td colspan="4"><a href="#r309">R309</a></td>
    </tr>
    <tr>
        <td colspan="2">Permissions</td>
        <td colspan="4">ADM</td>
    </tr>
</table>

###### Table 24: Product Update View

---

#### R308: Product Update Action
<table id = "r308">
  <tr>
    <td colspan="2">URL</td>
    <td colspan="4">/admin/product/{id}</td>
  </tr>
  <tr>
    <td colspan="2">Description</td>
    <td colspan="4">Action to update a product information.</td>
  </tr>
  <tr>
      <td colspan="2">Method</td>
      <td colspan="4">PUT</td>
  </tr>
  <tr>
      <td colspan="2" rowspan="7">Request Body</td>
      <td colspan="2">+productId: integer</td>
      <td colspan="2">Id of the product to update</td>
  </tr>
  <tr>
      <td colspan="2">+productName: string</td>
      <td colspan="2">Name of the product</td>
  </tr>
  <tr>
      <td colspan="2">+gameDescription: string</td>
      <td colspan="2">Text with the description for the product</td>
  </tr>
  <tr>
      <td colspan="2">+genres: array</td>
      <td colspan="2">Array of id of genres</td>
  </tr>
  <tr>
      <td colspan="2">+platforms: array</td>
      <td colspan="2">Array of id of platforms</td>
  </tr>
  <tr>
      <td colspan="2">+categoryId: integer</td>
      <td colspan="2">Id of game category</td>
  </tr>
  <tr>
      <td colspan="2">?photo: file</td>
      <td colspan="2">Photo that describes the game(optional)</td>
  </tr>
  <tr>
        <td colspan="2">Parameters</td>
          <td colspan="2">+id:integer</td>
      <td colspan="2">Product id</td>
  </tr>
  <tr>
      <td colspan="2">Redirects</td>
      <td colspan="2"><a href="#r302">R302</a></td>
      <td colspan="2">Success</td>
  </tr>
  <tr>
      <td colspan="2">Permissions</td>
      <td colspan="4">ADM</td>
  </tr>
</table> 

###### Table 25: Product Update Action

---

#### R309: Product Remove Action
<table id = "r309">
  <tr>
    <td colspan="2">URL</td>
    <td colspan="4">/admin/product/{id}</td>
  </tr>
  <tr>
    <td colspan="2">Description</td>
    <td colspan="4">Action to delete a product.</td>
  </tr>
  <tr>
      <td colspan="2">Method</td>
      <td colspan="4">DELETE</td>
  </tr>
  <tr>
      <td colspan="2">Parameters</td>
      <td colspan="2">+id: integer</td>
      <td colspan="2">Id of the product to update</td>
  </tr>
  <tr>
      <td colspan="2">Redirects</td>
      <td colspan="2"><a href="#r302">R302</a></td>
      <td colspan="2">Success</td>
  </tr>
  <tr>
      <td colspan="2">Permissions</td>
      <td colspan="4">ADM</td>
  </tr>
</table>

###### Table 26: Product Remove Action

---

#### R310: Categories Listing View
<table id = "r310">
  <tr>
    <td colspan="2">URL</td>
    <td colspan="4">/admin/category</td>
  </tr>
  <tr>
    <td colspan="2">Description</td>
    <td colspan="4">View with the list of the categories in the system</td>
  </tr>
  <tr>
      <td colspan="2">Method</td>
      <td colspan="4">GET</td>
  </tr>
  <tr>
        <td colspan="2" rowspan="4">AJAX calls </td>
        <td colspan="2"><a href="#r311">R311</a></td> 
        <td colspan="2">Called in the rendering of the page.</td>
  </tr>
  <tr>
        <td colspan="2"><a href="#r312">R312</a></td>
        <td colspan="2">Used while adding a new category.</td>
  </tr>
  <tr>
        <td colspan="2"><a href="#r313">R313</a></td>
        <td colspan="2">Called when a deletion is executed.</td>
  </tr>
  <tr>
        <td colspan="2"><a href="#r314">R314</a></td>
        <td colspan="2">Called when a update occurs.</td>
  </tr>
  <tr>
      <td colspan="2">Permissions</td>
      <td colspan="4">ADM</td>
  </tr>
</table>

###### Table 27: Categories Listing View

---

#### R311: Categories Listing Action
<table id = "r311">
  <tr>
    <td colspan="2">URL</td>
    <td colspan="4">/api/admin/category{page}</td>
  </tr>
  <tr>
    <td colspan="2">Description</td>
    <td colspan="4">Request to return the information about categories</td>
  </tr>
  <tr>
      <td colspan="2">Method</td>
      <td colspan="4">GET</td>
  </tr>
  <tr>
      <td colspan="2">Parameters</td>
      <td colspan="2">+page: integer</td>
      <td colspan="2">Results paging</td>
  </tr>
  <tr>
      <td colspan="2">Response Body</td>
      <td colspan="4"><a href="#j311">JSON311</td>
  </tr>
  <tr>
      <td colspan="2">Permissions</td>
      <td colspan="4">ADM</td>
  </tr>
</table>

###### Table 28: Categories Listing Action

---

#### R312: Categories Add Action
<table id = "r312">
  <tr>
    <td colspan="2">URL</td>
    <td colspan="4">/admin/category</td>
  </tr>
  <tr>
    <td colspan="2">Description</td>
    <td colspan="4">Action to insert a new category.</td>
  </tr>
  <tr>
      <td colspan="2">Method</td>
      <td colspan="4">POST</td>
  </tr>
  <tr>
      <td colspan="2">Request Body</td>
      <td colspan="2">+categoryName: string</td>
      <td colspan="2">Name of the new category</td>
  </tr>
  <tr>
      <td colspan="2" rowspan="3">Returns</td>
      <td colspan="2">200 OK</td>
      <td colspan="2">The category submition was successful
      </td>
  </tr>
  <tr>
      <td colspan="2">400 Bad Request </td>
      <td colspan="2">The category submission had an error </td>
  </tr>
  <tr>
      <td colspan="2">403 Unauthorized</td>
      <td colspan="2">The insertion of the category was refused.</td>
  </tr>
  <tr>
      <td colspan="2">Response Body</td>
      <td colspan="4"><a href="#j300">JSON300</td>
  </tr>
  <tr>
      <td colspan="2">Permissions</td>
      <td colspan="4">ADM</td>
  </tr>
</table>

###### Table 29: Categories Add Action

---

#### R313: Categories Remove Action
<table id = "r313">
  <tr>
    <td colspan="2">URL</td>
    <td colspan="4">/admin/category/{id}</td>
  </tr>
  <tr>
    <td colspan="2">Description</td>
    <td colspan="4">Action to insert a new category.</td>
  </tr>
  <tr>
      <td colspan="2">Method</td>
      <td colspan="4">DELETE</td>
  </tr>
   <tr>
      <td colspan="2">Parameters</td>
       <td colspan="2">+id: integer</td>
      <td colspan="2">Id of the category to remove</td>
  </tr>
  <tr>
      <td colspan="2" rowspan="4">Returns</td>
      <td colspan="2">200 OK</td>
      <td colspan="2">The category deletion was successful
      </td>
  </tr>
  <tr>
      <td colspan="2">400 Bad Request </td>
      <td colspan="2">The category deletion had an error </td>
  </tr>
  <tr>
      <td colspan="2">403 Unauthorized</td>
      <td colspan="2">The deletion of the category was refused.</td>
  </tr>
  <tr>
      <td colspan="2">404 Not Found</td>
      <td colspan="2">Category not found</td>
  </tr>
  <tr>
      <td colspan="2">Permissions</td>
      <td colspan="4">ADM</td>
  </tr>
</table>

###### Table 30: Categories Remove Action

---

#### R314: Category Update Action
<table id = "r314">
  <tr>
    <td colspan="2">URL</td>
    <td colspan="4">/admin/category/{id}</td>
  </tr>
  <tr>
    <td colspan="2">Description</td>
    <td colspan="4">Action to update a new category.</td>
  </tr>
  <tr>
      <td colspan="2">Method</td>
      <td colspan="4">PUT</td>
  </tr>
  <tr>
      <td colspan="2" rowspan="2">Request Body</td>
      <td colspan="2">+categoryId: integer</td>
      <td colspan="2">Id of the category to update</td>
  </tr>
      <td colspan="2">+categoryName: string</td>
      <td colspan="2">Name of the new category</td>
  <tr>
      <td colspan="2" rowspan="4">Returns</td>
      <td colspan="2">200 OK</td>
      <td colspan="2">The category update was successful
      </td>
  </tr>
  <tr>
      <td colspan="2">400 Bad Request </td>
      <td colspan="2">The category update had an error </td>
  </tr>
  <tr>
      <td colspan="2">403 Unauthorized</td>
      <td colspan="2">The update of the category was refused.</td>
  </tr>
  <tr>
      <td colspan="2">404 Not Found</td>
      <td colspan="2">Category not found</td>
  </tr>
  <tr>
      <td colspan="2">Permissions</td>
      <td colspan="4">ADM</td>
  </tr>
</table>

###### Table 31: Category Update Action

---

#### R315: Genres Listing View
<table id = "r315">
  <tr>
    <td colspan="2">URL</td>
    <td colspan="4">/admin/genres</td>
  </tr>
  <tr>
    <td colspan="2">Description</td>
    <td colspan="4">View with the list of the genres in the system</td>
  </tr>
  <tr>
      <td colspan="2">Method</td>
      <td colspan="4">GET</td>
  </tr>
  <tr>
    <td colspan="2" rowspan="4">AJAX calls </td>
    <td colspan="2"><a href="#r316">R316</a></td>
    <td colspan="2">Called in the rendering of the page.</td>
  </tr>
  <tr>
    <td colspan="2"><a href="#r317">R317</a></td>
    <td colspan="2">Used while adding a new genre.</td> 
  </tr>
  <tr>
    <td colspan="2"><a href="#r318">R318</a></td>
    <td colspan="2">Called when a deletion is executed.</td>
  </tr>
  <tr>
    <td colspan="2"><a href="#r319">R319</a></td>
    <td colspan="2">Called when an update is made</td>
  </tr>
  <tr>
    <td colspan="2">Permissions</td>
    <td colspan="4">ADM</td>
  </tr>
</table>

###### Table 32: Genres Listing View

---

#### R316: Genres Listing Action
<table id = "r316">
  <tr>
    <td colspan="2">URL</td>
    <td colspan="4">/api/admin/genre/{page}</td>
  </tr>
  <tr>
    <td colspan="2">Description</td>
    <td colspan="4">Request to return the information about genres</td>
  </tr>
  <tr>
      <td colspan="2">Method</td>
      <td colspan="4">GET</td>
  </tr>
  <tr>
      <td colspan="2">Parameters</td>
        <td colspan="2">+page: integer</td>
      <td colspan="2">Results paging</td>
  </tr>
  <tr>
      <td colspan="2">Response Body</td>
      <td colspan="4"><a href="#r316">JSON316</a></td>
  </tr>
  <tr>
      <td colspan="2">Permissions</td>
      <td colspan="4">ADM</td>
  </tr>
</table>

###### Table 33: Genres Listing Action

---

#### R317: Genres Add Action
<table id = "r317">
  <tr>
    <td colspan="2">URL</td>
    <td colspan="4">/admin/genre</td>
  </tr>
  <tr>
    <td colspan="2">Description</td>
    <td colspan="4">Action to insert a new genre.</td>
  </tr>
  <tr>
      <td colspan="2">Method</td>
      <td colspan="4">POST</td>
  </tr>
  <tr>
      <td colspan="2">Request Body</td>
      <td colspan="2">+genreName: string</td>
      <td colspan="2">Name of the new genre</td>
  </tr>
  <tr>
      <td colspan="2" rowspan="4">Returns</td>
      <td colspan="2">200 OK</td>
      <td colspan="2">The genre submition was successful
      </td>
  </tr>
  <tr>
      <td colspan="2">400 Bad Request </td>
      <td colspan="2">The genre submission had an error </td>
  </tr>
  <tr>
      <td colspan="2">403 Unauthorized</td>
      <td colspan="2">The insertion of the genre was refused.</td>
  </tr>
   <tr>
      <td colspan="2">404 Not Found</td>
      <td colspan="2">Genre not found</td>
  </tr>
  <tr>
      <td colspan="2">Response Body</td>
      <td colspan="4"><a href="#j300">JSON300</td>
  </tr>
  <tr>
      <td colspan="2">Permissions</td>
      <td colspan="4">ADM</td>
  </tr>
</table>

###### Table 34: Genres Add Action

---

#### R318: Genres Remove Action
<table id = "r318">
  <tr>
    <td colspan="2">URL</td>
    <td colspan="4">/admin/genre/{id}</td>
  </tr>
  <tr>
    <td colspan="2">Description</td>
    <td colspan="4">Action to remove a new genre.</td>
  </tr>
  <tr>
      <td colspan="2">Method</td>
      <td colspan="4">DELETE</td>
  </tr>
  <tr>
      <td colspan="2">Parameters</td>
       <td colspan="2">+id: integer</td>
      <td colspan="2">Id of the genre to remove</td>
  </tr>
  <tr>
      <td colspan="2" rowspan="4">Returns</td>
      <td colspan="2">200 OK</td>
      <td colspan="2">The genre deletion was successful
      </td>
  </tr>
  <tr>
      <td colspan="2">400 Bad Request </td>
      <td colspan="2">The genre deletion had an error </td>
  </tr>
  <tr>
      <td colspan="2">403 Unauthorized</td>
      <td colspan="2">The deletion of the genre was refused.</td>
  </tr>
   <tr>
      <td colspan="2">404 Not Found</td>
      <td colspan="2">Genre not found</td>
  </tr>
  <tr>
      <td colspan="2">Permissions</td>
      <td colspan="4">ADM</td>
  </tr>
</table>

###### Table 35: Genres Remove Action

---

#### R319: Genre Update Action
<table id = "r319">
  <tr>
    <td colspan="2">URL</td>
    <td colspan="4">/admin/genre/{id}</td>
  </tr>
  <tr>
    <td colspan="2">Description</td>
    <td colspan="4">Action to update a new genre.</td>
  </tr>
  <tr>
      <td colspan="2">Method</td>
      <td colspan="4">PUT</td>
  </tr>
  <tr>
      <td colspan="2">Request Body</td>
      <td colspan="2">+genreId: integer</td>
      <td colspan="2">Id of the genre to update</td>
  </tr>
      <td colspan="2"></td>
      <td colspan="2">+genreName: string</td>
      <td colspan="2">Name of the new genre</td>
  <tr>
      <td colspan="2" rowspan="4">Returns</td>
      <td colspan="2">200 OK</td>
      <td colspan="2">The genre update was successful
      </td>
  </tr>
  <tr>
      <td colspan="2">400 Bad Request </td>
      <td colspan="2">The genre update had an error </td>
  </tr>
  <tr>
      <td colspan="2">403 Unauthorized</td>
      <td colspan="2">The update of the genre was refused.</td>
  </tr>
  <tr>
      <td colspan="2">404 Not Found</td>
      <td colspan="2">Genre not found</td>
  </tr>
  <tr>
      <td colspan="2">Permissions</td>
      <td colspan="4">ADM</td>
  </tr>
</table>

###### Table 36: Genre Update Action

---

#### R320: Platforms Listing View
<table id = "r320">
  <tr>
    <td colspan="2">URL</td>
    <td colspan="4">/admin/platform</td>
  </tr>
  <tr>
    <td colspan="2">Description</td>
    <td colspan="4">View with the list of the platforms in the system</td>
  </tr>
  <tr>
      <td colspan="2">Method</td>
      <td colspan="4">GET</td>
  </tr>
  <tr>
        <td colspan="2" rowspan="4">AJAX calls</td>
        <td colspan="2"><a href="#r321">R321</a></td>
        <td colspan="2">Called in the rendering of the page.</td>
  </tr>
  <tr>
        <td colspan="2"><a href="#r322">R322</a></td>
        <td colspan="2">Used while adding a new platform.</td>
  </tr>
  <tr>
        <td colspan="2"><a href="#r323">R323</a></td>
        <td colspan="2">Called when a deletion is executed.</td>
  </tr>
  <tr>
        <td colspan="2"><a href="#r324">R324</a></td>
        <td colspan="2">Called when an update is made.</td>
    </tr>
  <tr>
      <td colspan="2">Permissions</td>
      <td colspan="4">ADM</td>
  </tr>
</table>

######  37: Platforms Listing View

---

#### R321: Platform Listing Action
<table id = "r321">
  <tr>
    <td colspan="2">URL</td>
    <td colspan="4">/api/admin/platform/{page}</td>
  </tr>
  <tr>
    <td colspan="2">Description</td>
    <td colspan="4">Request to return the information about platforms</td>
  </tr>
  <tr>
      <td colspan="2">Method</td>
      <td colspan="4">GET</td>
  </tr>
  <tr>
      <td colspan="2">Parameters</td>
       <td colspan="2">+page: integer</td>
      <td colspan="2">Results paging</td>
  </tr>
  <tr>
      <td colspan="2">Response Body</td>
      <td colspan="4"><a href="#j321">JSON321</a></td>
  </tr>
  <tr>
      <td colspan="2">Permissions</td>
      <td colspan="4">ADM</td>
  </tr>
</table>

######  38: Platform Listing Action

---

#### R322: Platforms Add Action
<table id = "r322">
  <tr>
    <td colspan="2">URL</td>
    <td colspan="4">/admin/platform</td>
  </tr>
  <tr>
    <td colspan="2">Description</td>
    <td colspan="4">Action to insert a new platform.</td>
  </tr>
  <tr>
      <td colspan="2">Method</td>
      <td colspan="4">POST</td>
  </tr>
  <tr>
      <td colspan="2">Request Body</td>
      <td colspan="2">+platformName: string</td>
      <td colspan="2">Name of the new platform</td>
  </tr>
  <tr>
      <td colspan="2" rowspan="3">Returns</td>
      <td colspan="2">200 OK</td>
      <td colspan="2">The platform submition was successful
      </td>
  </tr>
  <tr>
      <td colspan="2">400 Bad Request </td>
      <td colspan="2">The platform submission had an error </td>
  </tr>
  <tr>
      <td colspan="2">403 Unauthorized</td>
      <td colspan="2">The insertion of the platform was refused.</td>
  </tr>
  <tr>
      <td colspan="2">Response Body</td>
      <td colspan="4"><a href="#j300">JSON300</td>
  </tr>
  <tr>
      <td colspan="2">Permissions</td>
      <td colspan="4">ADM</td>
  </tr>
</table>

###### Table 39: Platforms Add Action

---

#### R323: Platforms Remove Action
<table id = "r323">
  <tr>
    <td colspan="2">URL</td>
    <td colspan="4">/admin/platform/{id}</td>
  </tr>
  <tr>
    <td colspan="2">Description</td>
    <td colspan="4">Action to insert a new platform.</td>
  </tr>
  <tr>
      <td colspan="2">Method</td>
      <td colspan="4">DELETE</td>
  </tr>
   <tr>
      <td colspan="2">Parameters</td>
      <td colspan="2">+platformId: integer</td>
      <td colspan="2">Id of the platform to remove</td>
  </tr>
  <tr>
      <td colspan="2" rowspan="4">Returns</td>
      <td colspan="2">200 OK</td>
      <td colspan="2">The platform deletion was successful
      </td>
  </tr>
  <tr>
      <td colspan="2">400 Bad Request </td>
      <td colspan="2">The platform deletion had an error </td>
  </tr>
  <tr>
      <td colspan="2">403 Unauthorized</td>
      <td colspan="2">The deletion of the platform was refused.</td>
  </tr>
  <tr>
      <td colspan="2">404 Not Found</td>
      <td colspan="2">Platform not found</td>
  </tr>
  <tr>
      <td colspan="2">Permissions</td>
      <td colspan="4">ADM</td>
  </tr>
</table>

###### Table 40: Platforms Remove Action

---

#### R324: Platform Update Action
<table id = "r324">
  <tr>
    <td colspan="2">URL</td>
    <td colspan="4">/admin/platform/{id}</td>
  </tr>
  <tr>
    <td colspan="2">Description</td>
    <td colspan="4">Action to update a new platform.</td>
  </tr>
  <tr>
      <td colspan="2">Method</td>
      <td colspan="4">PUT</td>
  </tr>
  <tr>
      <td colspan="2">Request Body</td>
      <td colspan="2">+platformId: integer</td>
      <td colspan="2">Id of the platform to update</td>
  </tr>
      <td colspan="2">+platformName: string</td>
      <td colspan="2">Name of the new platform</td>
  <tr>
      <td colspan="2" rowspan="4">Returns</td>
      <td colspan="2">200 OK</td>
      <td colspan="2">The platform update was successful
      </td>
  </tr>
  <tr>
      <td colspan="2">400 Bad Request </td>
      <td colspan="2">The platform update had an error </td>
  </tr>
  <tr>
      <td colspan="2">403 Unauthorized</td>
      <td colspan="2">The update of the platform was refused.</td>
  </tr>
  <tr>
      <td colspan="2">404 Not Found</td>
      <td colspan="2">Platform not found</td>
  </tr>
  <tr>
      <td colspan="2">Permissions</td>
      <td colspan="4">ADM</td>
  </tr>
</table>

###### Table 41: Platform Update Action

---

#### R325: Users Listing View
<table id = "r325">
  <tr>
    <td colspan="2">URL</td>
    <td colspan="4">/admin/user</td>
  </tr>
  <tr>
    <td colspan="2">Description</td>
    <td colspan="4">View with the list of the users in the system</td>
  </tr>
  <tr>
      <td colspan="2">Method</td>
      <td colspan="4">GET</td>
  </tr>
  <tr>
        <td colspan="2" rowspan="3">AJAX calls</td>
        <td colspan="2"><a href="#r326">R326</a></td>
        <td colspan="2">Called in the rendering of the page.</td>
  </tr>
  <tr>
        <td colspan="2"><a href="#r327">R327</a></td>
        <td colspan="2">Called when searching for a user.</td>
  </tr>
  <tr>
        <td colspan="2"><a href="#r328">R328</a></td>
        <td colspan="2">Called when a ban/unban is executed.</td>
  </tr>
  <tr>
      <td colspan="2">Permissions</td>
      <td colspan="4">ADM</td>
  </tr>
</table>

###### Table42: Users Listing View

---

#### R326: Users Listing Action
<table id = "r326">
  <tr>
    <td colspan="2">URL</td>
    <td colspan="4">/api/admin/user/{page}</td>
  </tr>
  <tr>
    <td colspan="2">Description</td>
    <td colspan="4">Request to return the information about users</td>
  </tr>
  <tr>
      <td colspan="2">Method</td>
      <td colspan="4">GET</td>
  </tr>
  <tr>
      <td colspan="2">Parameters</td>
       <td colspan="2">+page: integer</td>
      <td colspan="2">Results paging</td>
  </tr>
  <tr>
      <td colspan="2">Response Body</td>
      <td colspan="4"><a href="#j326">JSON326</a></td>
  </tr>
  <tr>
      <td colspan="2">Permissions</td>
      <td colspan="4">ADM</td>
  </tr>
</table>

######  Table43: Users Listing Action

---

#### R327: Users Search Action
<table id = "r327">
  <tr>
    <td colspan="2">URL</td>
    <td colspan="4">/api/admin/user/search</td>
  </tr>
  <tr>
    <td colspan="2">Description</td>
    <td colspan="4">Action to search users.</td>
  </tr>
  <tr>
      <td colspan="2">Method</td>
      <td colspan="4">GET</td>
  </tr>
  <tr>
      <td colspan="2">Request Body</td>
      <td colspan="2">+searchText: string</td>
      <td colspan="2">Text to use for searching</td>
  </tr>
  <tr>
      <td colspan="2">Response Body</td>
      <td colspan="4"><a href="#j327">JSON327</a></td>
  </tr>
  <tr>
      <td colspan="2">Permissions</td>
      <td colspan="4">ADM</td>
  </tr>
</table>

###### Table 44: Users Search Action

---

#### R328: Users Update Action
<table id = "r328">
  <tr>
    <td colspan="2">URL</td>
    <td colspan="4">/admin/user/{id}</td>
  </tr>
  <tr>
    <td colspan="2">Description</td>
    <td colspan="4">Action to ban/unban a user.</td>
  </tr>
  <tr>
      <td colspan="2">Method</td>
      <td colspan="4">PUT</td>
  </tr>
  <tr>
      <td colspan="2">Request Body</td>
      <td colspan="2">+ban: boolean</td>
      <td colspan="2">Whether it is to ban or unban.</td>
  </tr>
  <tr>
      <td colspan="2" rowspan="3">Returns</td>
      <td colspan="2">200 OK</td>
      <td colspan="2">The user update was successful.</td>
  </tr>
  <tr>
      <td colspan="2">404 User not found </td>
      <td colspan="2">The user was not found.</td>
  </tr>
  <tr>
      <td colspan="2">403 Unauthorized</td>
      <td colspan="2">The insertion of the platform was refused.</td>
  </tr>
  <tr>
      <td colspan="2">Permissions</td>
      <td colspan="4">ADM</td>
  </tr>
</table>

###### Table 45: Users Update Action

---

#### R329: Reports Listing View
<table id = "r329">
  <tr>
    <td colspan="2">URL</td>
    <td colspan="4">/admin/report</td>
  </tr>
  <tr>
    <td colspan="2">Description</td>
    <td colspan="4">View with the list of the reports in the system</td>
  </tr>
  <tr>
      <td colspan="2">Method</td>
      <td colspan="4">GET</td>
  </tr>
  <tr>
        <td colspan="2">AJAX calls</td>
        <td colspan="2"><a href="#r330">R330</a></td>
        <td colspan="2">Called in the rendering of the page.</td>
  </tr>
  <tr>
      <td colspan="2">Permissions</td>
      <td colspan="4">ADM</td>
  </tr>
</table>

###### Table46: Reports Listing View

---

#### R330: Reports Listing Action
<table id = "r330">
  <tr>
    <td colspan="2">URL</td>
    <td colspan="4">/api/admin/report{page}</td>
  </tr>
  <tr>
    <td colspan="2">Description</td>
    <td colspan="4">Request to return the information about reports</td>
  </tr>
  <tr>
      <td colspan="2">Method</td>
      <td colspan="4">GET</td>
  </tr>
  <tr>
      <td colspan="2">Parameters</td>
       <td colspan="2">+page: integer</td>
      <td colspan="2">Results paging</td>
  </tr>
  <tr>
      <td colspan="2">Response Body</td>
      <td colspan="4"><a href="#j330">JSON330</a></td>
  </tr>
  <tr>
      <td colspan="2">Permissions</td>
      <td colspan="4">ADM</td>
  </tr>
</table>

######  Table47: Reports Listing Action

---

#### R331: Transactions Listing View
<table id = "r331">
  <tr>
    <td colspan="2">URL</td>
    <td colspan="4">/admin/transaction</td>
  </tr>
  <tr>
    <td colspan="2">Description</td>
    <td colspan="4">View with the list of the transactions in the system</td>
  </tr>
  <tr>
      <td colspan="2">Method</td>
      <td colspan="4">GET</td>
  </tr>
  <tr>
        <td colspan="2">AJAX calls</td>
        <td colspan="2"><a href="#r332">R332</a></td>
        <td colspan="2">Called in the rendering of the page.</td>
  </tr>
  <tr>
        <td colspan="2"><a href="#r333">R333</a></td>
        <td colspan="2">Called when searching for results.</td>
  </tr>
  <tr>
      <td colspan="2">Permissions</td>
      <td colspan="4">ADM</td>
  </tr>
</table>

###### Table48: Transactions Listing View

---

#### R332: Transactions Listing Action
<table id = "r332">
  <tr>
    <td colspan="2">URL</td>
    <td colspan="4">/api/admin/transaction/{page}</td>
  </tr>
  <tr>
    <td colspan="2">Description</td>
    <td colspan="4">Request to return the information about transactions</td>
  </tr>
  <tr>
      <td colspan="2">Method</td>
      <td colspan="4">GET</td>
  </tr
  <tr>
      <td colspan="2">Parameters</td>
       <td colspan="2">+page: integer</td>
      <td colspan="2">Results paging</td>
  </tr>
  <tr>
      <td colspan="2">Response Body</td>
      <td colspan="4"><a href="#j332">JSON332</a></td>
  </tr>
  <tr>
      <td colspan="2">Permissions</td>
      <td colspan="4">ADM</td>
  </tr>
</table>

######  Table49: Transactions Listing Action

---

#### R333: Transactions Search Action
<table id = "r333">
  <tr>
    <td colspan="2">URL</td>
    <td colspan="4">/api/admin/transaction/search{page}</td>
  </tr>
  <tr>
    <td colspan="2">Description</td>
    <td colspan="4">Request to return the search results for transactions</td>
  </tr>
  <tr>
      <td colspan="2">Method</td>
      <td colspan="4">GET</td>
  </tr
  <tr>
      <td colspan="2">Parameters</td>
       <td colspan="2">+page: integer</td>
      <td colspan="2">Results paging</td>
  </tr>
  <tr>
      <td colspan="2">Request Body</td>
       <td colspan="2">+searchText: String</td>
      <td colspan="2">Text to use in search</td>
  </tr>
  <tr>
      <td colspan="2">Response Body</td>
      <td colspan="4"><a href="#j333">JSON333</a></td>
  </tr>
  <tr>
      <td colspan="2">Permissions</td>
      <td colspan="4">ADM</td>
  </tr>
</table>

######  Table50: Transactions Search Action

---

#### R334: Reviews Listing View
<table id = "r334">
  <tr>
    <td colspan="2">URL</td>
    <td colspan="4">/admin/review</td>
  </tr>
  <tr>
    <td colspan="2">Description</td>
    <td colspan="4">View with the list of the reviews in the system</td>
  </tr>
  <tr>
    <td colspan="2">Method</td>
    <td colspan="4">GET</td>
  </tr>
  <tr>
    <td colspan="2" rowspan="2">AJAX calls</td>
    <td colspan="2"><a href="#r335">R335</a></td>
    <td colspan="2">Called in the rendering of the page.</td>
  </tr>
  <tr>
    <td colspan="2"><a href="#r336">R336</a></td>
    <td colspan="2">Called when deleting a review.</td>
  </tr>
  <tr>
    <td colspan="2">Permissions</td>
    <td colspan="4">ADM</td>
  </tr>
</table>

###### Table51: Reviews Listing View

---

#### R335: Reviews Listing Action
<table id = "r335">
  <tr>
    <td colspan="2">URL</td>
    <td colspan="4">/api/admin/review/{page}</td>
  </tr>
  <tr>
    <td colspan="2">Description</td>
    <td colspan="4">Request to return the information about reviews</td>
  </tr>
  <tr>
      <td colspan="2">Method</td>
      <td colspan="4">GET</td>
  </tr>
  <tr>
  <td colspan="2">Parameters</td>
      <td colspan="2">+page: integer</td>
      <td colspan="2">Results paging</td>
  </tr>
  <tr>
      <td colspan="2">Response Body</td>
      <td colspan="4"><a href="#j335">JSON335</a></td>
  </tr>
  <tr>
      <td colspan="2">Permissions</td>
      <td colspan="4">ADM</td>
  </tr>
</table>

######  Table52: Reviews Listing Action

---

#### R336: Reviews Remove Action
<table id = "r336">
  <tr>
    <td colspan="2">URL</td>
    <td colspan="4">/admin/review/{id}</td>
  </tr>
  <tr>
    <td colspan="2">Description</td>
    <td colspan="4">Delete a review</td>
  </tr>
  <tr>
      <td colspan="2">Method</td>
      <td colspan="4">DELETE</td>
  </tr>
  <tr>
      <td colspan="2">Parameters</td>
      <td colspan="2">+id: integer</td>
      <td colspan="2">Review id of the seller</td>
  </tr>
  <tr>
      <td colspan="2" rowspan="3">Returns</td>
      <td colspan="2">200 OK</td>
      <td colspan="2">The review deletion was successful
      </td>
  </tr>
  <tr>
      <td colspan="2">400 Bad Request </td>
      <td colspan="2">The review deletion had an error </td>
  </tr>
  <tr>
      <td colspan="2">403 Unauthorized</td>
      <td colspan="2">The deletion of the review was refused.</td>
  </tr>
  <tr>
      <td colspan="2">Permissions</td>
      <td colspan="4">ADM</td>
  </tr>
</table>

######  Table53: Reviews Remove Action

---

#### R337: FAQ Listing View
<table id = "r337">
  <tr>
    <td colspan="2">URL</td>
    <td colspan="4">/admin/faq</td>
  </tr>
  <tr>
    <td colspan="2">Description</td>
    <td colspan="4">View with the list of the FAQs in the system</td>
  </tr>
  <tr>
      <td colspan="2">Method</td>
      <td colspan="4">GET</td>
  </tr>
  <tr>
        <td colspan="2" rowspan="4">AJAX calls</td>
        <td colspan="2"><a href="#r338">R338</a></td>
        <td colspan="2">Called in the rendering of the page.</td>
  </tr>
  <tr>
        <td colspan="2"><a href="#r339">R339</a></td>
        <td colspan="2">Called when adding a FAQ.</td>
  </tr>
  <tr>
        <td colspan="2"><a href="#r340">R340</a></td>
        <td colspan="2">Called when updating a FAQ.</td>
  </tr>
  <tr>
        <td colspan="2"><a href="#r341">R341</a></td>
        <td colspan="2">Called when deleting a FAQ.</td>
  </tr>
  <tr>
      <td colspan="2">Permissions</td>
      <td colspan="4">ADM</td>
  </tr>
</table>

###### Table54: FAQ Listing View

---

#### R338: FAQ Listing Action
<table id = "r338">
  <tr>
    <td colspan="2">URL</td>
    <td colspan="4">/api/admin/faq</td>
  </tr>
  <tr>
    <td colspan="2">Description</td>
    <td colspan="4">Request to return the information about FAQs</td>
  </tr>
  <tr>
      <td colspan="2">Method</td>
      <td colspan="4">GET</td>
  </tr>
  <tr>
      <td colspan="2">Response Body</td>
      <td colspan="4"><a href="#j338">JSON338</a></td>
  </tr>
  <tr>
      <td colspan="2">Permissions</td>
      <td colspan="4">ADM</td>
  </tr>
</table>

######  Table55: FAQ Listing Action

---

#### R339: FAQ Add Action
<table id = "r339">
  <tr>
    <td colspan="2">URL</td>
    <td colspan="4">/admin/faq</td>
  </tr>
  <tr>
    <td colspan="2">Description</td>
    <td colspan="4">Insert a new FAQ</td>
  </tr>
  <tr>
      <td colspan="2">Method</td>
      <td colspan="4">POST</td>
  </tr>
  <tr>
      <td colspan="2" rowspan="2">Request Body</td>
      <td colspan="2">+question: string</td>
      <td colspan="2">New question</td>
  </tr>
  <tr>
      <td colspan="2">+answer: string</td>
      <td colspan="2">New answer</td>
  </tr>
  <tr>
      <td colspan="2" rowspan="3">Returns</td>
      <td colspan="2">200 OK</td>
      <td colspan="2">The FAQ insertion was successful
      </td>
  </tr>
  <tr>
      <td colspan="2">400 Bad Request </td>
      <td colspan="2">The FAQ insertion had an error </td>
  </tr>
  <tr>
      <td colspan="2">403 Unauthorized</td>
      <td colspan="2">The insertion of the FAQ was refused.</td>
  </tr>
  <tr>
      <td colspan="2">Response Body</td>
      <td colspan="4"><a href="#j300">JSON300</td>
  </tr>
  <tr>
      <td colspan="2">Permissions</td>
      <td colspan="4">ADM</td>
  </tr>
</table>

######  Table56: FAQ Add Action

---

#### R340: FAQ Update Action
<table id = "r340">
  <tr>
    <td colspan="2">URL</td>
    <td colspan="4">/admin/faq/{id}</td>
  </tr>
  <tr>
    <td colspan="2">Description</td>
    <td colspan="4">Update a FAQ entry</td>
  </tr>
  <tr>
      <td colspan="2">Method</td>
      <td colspan="4">PUT</td>
  </tr>
  <tr>
      <td colspan="2" rowspan="2">Request Body</td>
      <td colspan="2">+question: string</td>
      <td colspan="2">Updated question</td>
  </tr>
  <tr>
      <td colspan="2">+answer: string</td>
      <td colspan="2">Updated answer</td>
  </tr>
  <tr>
      <td colspan="2" rowspan="3">Returns</td>
      <td colspan="2">200 OK</td>
      <td colspan="2">The FAQ update was successful.</td>
  </tr>
  <tr>
      <td colspan="2">400 Bad Request </td>
      <td colspan="2">The FAQ update had an error.</td>
  </tr>
  <tr>
      <td colspan="2">403 Unauthorized</td>
      <td colspan="2">The update of the FAQ was refused.</td>
  </tr>
  <tr>
      <td colspan="2">Permissions</td>
      <td colspan="4">ADM</td>
  </tr>
</table>

######  Table57: FAQ Update Action

---

#### R341: FAQ Remove Action
<table id = "r341">
  <tr>
    <td colspan="2">URL</td>
    <td colspan="4">/admin/review/{id}</td>
  </tr>
  <tr>
    <td colspan="2">Description</td>
    <td colspan="4">Delete a FAQ entry</td>
  </tr>
  <tr>
      <td colspan="2">Method</td>
      <td colspan="4">DELETE</td>
  </tr>
  <tr>
      <td colspan="2">Parameters</td>
      <td colspan="2">+id: integer</td>
      <td colspan="2">User id of the seller</td>
  </tr>
  <tr>
      <td colspan="2" rowspan="3">Returns</td>
      <td colspan="2">200 OK</td>
      <td colspan="2">The FAQ deletion was successful
      </td>
  </tr>
  <tr>
      <td colspan="2">400 Bad Request </td>
      <td colspan="2">The FAQ deletion had an error </td>
  </tr>
  <tr>
      <td colspan="2">403 Unauthorized</td>
      <td colspan="2">The deletion of the FAQ was refused.</td>
  </tr>
  <tr>
      <td colspan="2">Permissions</td>
      <td colspan="4">ADM</td>
  </tr>
</table>

######  Table58: FAQ Remove Action



---

### 3.4 Module Product Search and Interaction:

##### Endpoints of module: Product Search and Interaction:

* R401: Website Homepage[/ or /home]
* R402: Products listing [/search]
* R403: Product page [/product/{id}/{platform}]
* R404: Listing restriction [/search/filters]
* R405: Offers ordering [/product/{id}/{platform}/offers]

#### R401: Website Homepage
<table id = "r401">
  <tr>
    <td colspan="2">URL</td>
    <td colspan="4">/ or /home</td>
  </tr>
  <tr>
    <td colspan="2">Description</td>
    <td colspan="4">Main page of the website, with the most popular and most recent products</td>
  </tr>
  <tr>
      <td colspan="2">Method</td>
      <td colspan="4">GET</td>
  </tr>
  <tr>
      <td colspan="2">UI01</td>
      <td colspan="4"><a href="http://lbaw2043-piu.lbaw-prod.fe.up.pt/src/pages/homepage.php"> UI01 (Homepage) </a></td>
  </tr>
  <tr>
      <td colspan="2">Permissions</td>
      <td colspan="4">PUB</td>
  </tr>
</table>

###### Table 59: Website Homepage

---

#### R402: Products listing
<table id = "r402">
  <tr>
    <td colspan="2">URL</td>
    <td colspan="4">/search</td>
  </tr>
  <tr>
    <td colspan="2">Description</td>
    <td colspan="4">Page that will allow the user to navigate through and choose products</td>
  </tr>
  <tr>
      <td colspan="2">Method</td>
      <td colspan="4">GET</td>
  </tr>
  <tr>
      <td colspan="2">UI</td>
      <td colspan="6"><a href="http://lbaw2043-piu.lbaw-prod.fe.up.pt/src/pages/products_list.php">UI06 (Product Searching)</a></td>
  </tr>
  <tr>
        <td colspan="2">AJAX calls </td>
        <td colspan="2"><a href="#r404">R404</a></td>
        <td colspan="2">Used to get the products with or without filters</td>
    </tr>
  <tr>
      <td colspan="2">Permissions</td>
      <td colspan="4">PUB</td>
  </tr>
</table>

###### Table 60: Products listing

---

#### R403: Product page
<table id = "r403">
  <tr>
    <td colspan="2">URL</td>
    <td colspan="4">/product/{id}/{platform}</td>
  </tr>
  <tr>
    <td colspan="2">Description</td>
    <td colspan="4">Page that will allow the user to see the product's information </td>
  </tr>
  <tr>
      <td colspan="2">Method</td>
      <td colspan="4">GET</td>
  </tr>
  <tr>
      <td colspan="2" rowspan="2">Parameters</td>
      <td colspan="2">+id: integer</td>
      <td colspan="2">ID of the product</td>
  </tr>
  <tr>
      <td colspan="2">+platform: integer</td>
      <td colspan="2">ID of the products platform</td>
  </tr>  
 <tr>
      <td colspan="2">UI</td>
      <td colspan="6"><a href="http://lbaw2043-piu.lbaw-prod.fe.up.pt/src/pages/product.php">UI09 (Product Page)</a></td>
  </tr>
  <tr>
        <td colspan="2" rowspan="2">AJAX calls </td>
        <td colspan="2"><a href="#r405">R405</a></td>
        <td colspan="2">Get offers for the product</td>
</tr>
<tr>
  <td colspan="2"><a href="#r502">R502</a></td>
        <td colspan="2">Add a offer to the cart</td>
</tr>

  <tr>
      <td colspan="2">Permissions</td>
      <td colspan="4">PUB</td>
  </tr>
</table>

###### Table 61: Product page

---

#### R404: Listing restriction action
<table id="r404">
  <tr>
    <td colspan="2">URL</td>
    <td colspan="4">/api/product/search/filters</td>
  </tr>
  <tr>
    <td colspan="2">Description</td>
    <td colspan="4">Action that returns all products regarding the filters selected</td>
  </tr>
  <tr>
      <td colspan="2">Method</td>
      <td colspan="4">GET</td>
  </tr>
  <tr>
      <td colspan="2" rowspan="6">Parameters</td>
      <td colspan="2">?sortingParameter: string</td>
      <td colspan="2">Sorting Parameter</td>
  </tr>
  <tr>
      <td colspan="2">?genres: array</td>
      <td colspan="2">Genres</td>
  </tr>  
  <tr>
      <td colspan="2">?platforms: array</td>
      <td colspan="2">Platforms</td>
  </tr>
  <tr>
      <td colspan="2">?categories: array</td>
      <td colspan="2">Categories</td>
  </tr>
  <tr>
      <td colspan="2">?maxPrice: float</td>
      <td colspan="2">Max price</td>
  </tr>
  <tr>
      <td colspan="2">?page: integer</td>
      <td colspan="2">Page</td>
  </tr>
  <tr>
      <td colspan="2">Response Body</td>
      <td colspan="4"><a href="#j404">JSON404</a></td>
  </tr>
  <tr>
      <td colspan="2">Permissions</td>
      <td colspan="4">PUB</td>
  </tr>
</table>

###### Table 62: Listing restriction

---

#### R405: Offers ordering action
<table id="r405">
  <tr>
    <td colspan="2">URL</td>
    <td colspan="4">/api/product/{id}/{platform}/offers</td>
  </tr>
  <tr>
    <td colspan="2">Description</td>
    <td colspan="4">Request to return a number of offers of the given product starting at a certain offer number</td>
  </tr>
  <tr>
      <td colspan="2">Method</td>
      <td colspan="4">GET</td>
  </tr>
  <tr>
      <td colspan="2" rowspan="4">Parameters</td>
      <td colspan="2">+id: string</td>
      <td colspan="2">The id of the product</td>
  </tr>
  <tr>
      <td colspan="2">+platform: string</td>
      <td colspan="2">The platform of the product</td>
  </tr>
  <tr>
      <td colspan="2">?sortingParameter: string</td>
      <td colspan="2">Sorting Parameter</td>
  </tr>
   <tr>
      <td colspan="2">?numberOffer: string</td>
      <td colspan="2">Number of offers previously loaded</td>
  </tr>
  <tr>
      <td colspan="2">Response Body</td>
      <td colspan="4"><a href="#j405">JSON405</a></td>
  </tr>
  <tr>
      <td colspan="2">Permissions</td>
      <td colspan="4">PUB</td>
  </tr>
</table>

###### Table 63: Offers ordering

---

### 3.5 Module Cart and checkout

* R501: Cart View [/user/{id}/cart]
* R502: Cart Add [/user/{id}/cart]
* R503: Cart Remove [/user/{userId}/cart/{id}]
* R504: Checkout View [/user/{id}/cart/checkout]
* R505: Checkout Action [/user/{id}/cart/checkout]

#### R501: Cart View
<table id="r501">
    <tr>
        <td colspan="2">URL</td>
        <td colspan="4">/user/{id}/cart </td>
    </tr>
    <tr>
        <td colspan="2">Description</td>
        <td colspan="4">View for the personal shopping cart</td>
    </tr>
    <tr>
        <td colspan="2">Method</td>
        <td colspan="4">GET</td>
    </tr>
    <tr>
      <td colspan="2" rowspan="1">Parameters</td>
      <td colspan="2">?id: string</td>
      <td colspan="2">The id of the user</td>
    </tr>
    <tr>
        <td colspan="2">UI03</td>
        <td colspan="4">Cart</td>
    </tr>
    <tr>
        <td colspan="2" rowspan="1">AJAX calls </td>
        <td colspan="2"><a href="#r503">R503</a></td>
        <td colspan="2">Delete an entry from the cart</td>
    </tr>
    <tr>
        <td colspan="2">Permissions</td>
        <td colspan="4">PUB</td>
    </tr>
</table>

###### Table 64: Cart View

---

#### R502: Cart Add action
<table id="r502">
  <tr>
    <td colspan="2">URL</td>
    <td colspan="4">/user/{id}/cart</td>
  </tr>
  <tr>
    <td colspan="2">Description</td>
    <td colspan="4">Action to submit a new offer into the cart.</td>
  </tr>
  <tr>
      <td colspan="2">Method</td>
      <td colspan="4">POST</td>
  </tr>
  <tr>
      <td colspan="2" rowspan="2">Request Body</td>
      <td colspan="2">+userId: integer</td>
      <td colspan="2">User id to insert the cart</td>
  </tr>
  <tr>
      <td colspan="2">+offerId: integer</td>
      <td colspan="2">Offer to insert into the personal cart</td>
  </tr>
  <tr>
      <td colspan="2" rowspan="4">Returns</td>
      <td colspan="2">200 OK</td>
      <td colspan="2">The insertion of the item on the cart was sucessufull</td>
  </tr>
  <tr>
      <td colspan="2">400 Bad Request</td>
      <td colspan="2">The insertion of the product was wrong.</td>
  </tr>
  <tr>
      <td colspan="2">403 Unauthorized</td>
      <td colspan="2">The insertion of the product was refused.</td>
  </tr>
  <tr>
      <td colspan="2">404 Not Found</td>
      <td colspan="2">User not found</td>
  </tr>
  <tr>
        <td colspan="2">Parameters</td>
          <td colspan="2">+id: integer</td>
      <td colspan="2">User id</td>
  </tr>
  <tr>
      <td colspan="2">Permissions</td>
      <td colspan="4">ACTUSER</td>
  </tr>
</table>

###### Table 65: Cart Add

---

#### R503: Cart Remove action
<table id="r503">
  <tr>
    <td colspan="2">URL</td>
    <td colspan="4">/user/{id}/cart/{cartEntryId}</td>
  </tr>
  <tr>
    <td colspan="2">Description</td>
    <td colspan="4">Action to remove an offer from the cart.</td>
  </tr>
  <tr>
      <td colspan="2">Method</td>
      <td colspan="4">DELETE</td>
  </tr>
  <tr>
      <td colspan="2" rowspan="2">Parameters</td>
      <td colspan="2">+id: integer</td>
      <td colspan="2">ID of the product</td>
  </tr>
  <tr>
      <td colspan="2">+cartEntryId: integer</td>
      <td colspan="2">ID of the cart entry we want to remove
  </tr>
  <tr>
      <td colspan="2" rowspan="4">Returns</td>
      <td colspan="2">200 OK</td>
      <td colspan="2">The deletion of the item on the cart was sucessufull</td>
  </tr>
  <tr>
      <td colspan="2">400 Bad Request</td>
      <td colspan="2">The deletion of the product was wrong.</td>
  </tr>
  <tr>
      <td colspan="2">403 Unauthorized</td>
      <td colspan="2">The deletion of the product was refused.</td>
  </tr>
  <tr>
      <td colspan="2">404 Not Found</td>
      <td colspan="2">Not found</td>
  </tr>
  <tr>
      <td colspan="2">Permissions</td>
      <td colspan="4">ACTUSER</td>
  </tr>
</table>

###### Table 66: Cart Remove

---

#### R504: Checkout View
<table id="r504">
    <tr>
        <td colspan="2">URL</td>
        <td colspan="4">/user/{id}/cart/checkout/{currentStep} </td>
    </tr>
    <tr>
        <td colspan="2">Description</td>
        <td colspan="4">View the checkout form</td>
    </tr>
    <tr>
        <td colspan="2">Method</td>
        <td colspan="4">GET</td>
    </tr>
    <tr>
        <td colspan="2" rowspan="2">Parameters</td>
        <td colspan="2">+id: integer</td>
        <td colspan="2">ID of the user</td>
    </tr>
    <tr>
     <td colspan="2">+currentStep: integer</td>
        <td colspan="2">Step the user is on in the checkout procedure</td>
    </tr>
    <tr>
    <tr>
        <td colspan="2">UI15</td>
        <td colspan="4">Checkout - Your Info</td>
    </tr>
    <tr>
        <td colspan="2">AJAX Calls</td>
        <td colspan="2"><a href="#r504">R505</a></td>
        <td colspan="2">Used if the current step in the checkout procedure is the "confirm your order step" and the user deletes a offer from the cart </td>
    </tr>
    <tr>
        <td colspan="2">Permissions</td>
        <td colspan="4">ACTUSER</td>
    </tr>
</table>

###### Table 67: Checkout View

---
<!--
#### R505: Checkout Cart Offers Action
<table id="r505">
  <tr>
    <td colspan="2">URL</td>
    <td colspan="4">/api/user/{id}/cart/checkout</td>
  </tr>
  <tr>
    <td colspan="2">Description</td>
    <td colspan="4">Action to submit an order and return the sale details</td>
  </tr>
  <tr>
      <td colspan="2">Method</td>
      <td colspan="4"></td>
  </tr>
  <tr>
      <td colspan="2">Parameters</td>
      <td colspan="2">+id: integer</td>
      <td colspan="2">ID of the user</td>
  </tr>
  <tr>
      <td colspan="2" rowspan="2">Request Body</td>
      
  </tr>
  <tr>
      <td colspan="2">+offersId: array</td>
      <td colspan="2">Array with the offers that are in the cart to checkout</td>
  </tr>
  <tr>
      <td colspan="2">Response Body</td>
      <td colspan="4"><a href="#j505">JSON505</a></td>
  </tr>
  <tr>
  <tr>
      <td colspan="2">Permissions</td>
      <td colspan="4">PUB</td>
  </tr>
</table>

###### Table 68: Checkout Action

---
-->

### 3.6 Module Offer

##### Endpoints of module: Module Offer:

* R601: New Offer View [/user/{id}/offer]
* R602: Active Offer View [/user/{idUser}/offer{idOffer}]
* R603: Offer Add [/user/{id}/offer]
* R604: Offer Edit [/user/{userId}/offer/{idOffer}]
* R605: Offer Cancel [/user/{userId}/offer/{idOffer}]
<!--
* R605: Discount View [/user/{userId}/offer/{id}/discount]
* R606: Discount Add [/user/{userId}/offer/{id}/discount]
* R607: Discount Edit [/user/{userId}/offer/{offerId}/discount/{id}]
* R608: Discount Delete [/user/{userId}/offer/{offerId}/discount/{id}]
-->

#### R601: New Offer View
<table id="r601">
    <tr>
        <td colspan="2">URL</td>
        <td colspan="4">/user/{id}/offer </td>
    </tr>
    <tr>
        <td colspan="2">Description</td>
        <td colspan="4">View with create offer form</td>
    </tr>
    <tr>
        <td colspan="2">Method</td>
        <td colspan="4">GET</td>
    </tr>
     <tr>
        <td colspan="2" rowspan="1">Parameters</td>
        <td colspan="2">+id: integer</td>
        <td colspan="2">ID of the user</td>
    </tr>
    <tr>
        <td colspan="2">UI</td>
        <td colspan="4"><a href="http://lbaw2043-piu.lbaw-prod.fe.up.pt/src/pages/offer.php"> UI08 Add/Edit Offer </a></td>
    </tr>
    <tr>
        <td colspan="2">AJAX calls </td>
        <td colspan="2"><a href="#r603">R603</a></td>
        <td colspan="2">Used to add the new offer to the database</td>
    </tr>
    <tr>
        <td colspan="2">Permissions</td>
        <td colspan="4">SEL</td>
    </tr>
</table>

###### Table 69: New Offer View

---

#### R602: Active Offer View
<table id="r602">
    <tr>
        <td colspan="2">URL</td>
        <td colspan="4">/user/{idUser}/offer{idOffer} </td>
    </tr>
    <tr>
        <td colspan="2">Description</td>
        <td colspan="4">View with edit offer form</td>
    </tr>
    <tr>
        <td colspan="2">Method</td>
        <td colspan="4">GET</td>
    </tr>
    <tr>
        <td colspan="2" rowspan="2">Parameters</td>
        <td colspan="2">+idUser: integer</td>
        <td colspan="2">ID of the user</td>
    </tr>
    <tr>
    <td colspan="2">+idOffer: integer</td>
        <td colspan="2">ID of the offer we want to edit</td>
    </tr>
    <tr>
        <td colspan="2">UI</td>
        <td colspan="4"><a href="http://lbaw2043-piu.lbaw-prod.fe.up.pt/src/pages/offer.php"> UI08 Add/Edit Offer </a></td>
    </tr>
    <tr>
        <td colspan="2">AJAX calls </td>
        <td colspan="2"><a href="#r604">R604</a></td>
        <td colspan="2">Used to update the offer on the database</td>
    </tr>
    <tr>
        <td colspan="2">Permissions</td>
        <td colspan="4">PUB</td>
    </tr>
</table>

###### Table 70: Active Offer View

---

#### R603: Offer Add
<table id="r603">
  <tr>
    <td colspan="2">URL</td>
    <td colspan="4">/user/{id}/offer</td>
  </tr>
  <tr>
    <td colspan="2">Description</td>
    <td colspan="4">Action to submit a new offer</td>
  </tr>
  <tr>
      <td colspan="2">Method</td>
      <td colspan="4">POST</td>
  </tr>
  <tr>
        <td colspan="2" rowspan="">Parameters</td>
        <td colspan="2">+id: integer</td>
        <td colspan="2">ID of the user</td>
    </tr>
  <tr>
      <td colspan="2" rowspan="6">Request Body</td>
       <td colspan="2">+gameId: integer</td>
      <td colspan="2">Id with the game that offer will be about</td> 
  </tr>
  <tr>
      <td colspan="2">+IdPlatform: integer</td>
      <td colspan="2">Id of platform for that game</td>
  </tr>
  <tr>
      <td colspan="2">+keys: array</td>
      <td colspan="2">Array including the keys the seller want to publish</td>
  </tr>
  <tr>
      <td colspan="2">?discounts: array</td>
      <td colspan="2">Array with all discount dates for that offer</td>
  </tr>
  <tr>
      <td colspan="2">+price: integer</td>
      <td colspan="2">Unitary price for those keys </td>
  </tr>
  <tr>
      <td colspan="2">+paypalEmail: string</td>
      <td colspan="2">Id with the game that offer will be about</td>
  </tr>
  <tr>
      <td colspan="2" rowspan="4">Returns</td>
      <td colspan="2">200 OK</td>
      <td colspan="2">The insertion of the offer was sucessufull</td>
  </tr>
  <tr>
      <td colspan="2">400 Bad Request</td>
      <td colspan="2">The offer insertion was wrong.</td>
  </tr>
  <tr>
      <td colspan="2">403 Unauthorized</td>
      <td colspan="2">The offer insertion was refused.</td>
  </tr>
  <tr>
      <td colspan="2">404 Not Found</td>
      <td colspan="2">User Not found</td>
</tr>
  <tr>
      <td colspan="2">Permissions</td>
      <td colspan="4">ACTUSER</td>
  </tr>
</table>

###### Table 71: Offer Add

---

#### R604: Offer Edit
<table id="r604">
  <tr>
    <td colspan="2">URL</td>
    <td colspan="4">/user/{idUser}/offer/{idOffer}</td>
  </tr>
  <tr>
    <td colspan="2">Description</td>
    <td colspan="4">Action to edit an offer.</td>
  </tr>
  <tr>
      <td colspan="2">Method</td>
      <td colspan="4">PUT</td>
  </tr>
  <tr>
        <td colspan="2" rowspan="2">Parameters</td>
        <td colspan="2">+idUser: integer</td>
        <td colspan="2">ID of the user</td>
    </tr>
    <tr>
    <td colspan="2">+idOffer: integer</td>
        <td colspan="2">ID of the offer we want to edit</td>
    </tr>
  <tr>
      <td colspan="2" rowspan="4">Request Body</td>
      <td colspan="2">+keys: array</td>
      <td colspan="2">Array including the keys the seller want to publish</td>
     
  </tr>

  <tr>
      <td colspan="2">+discounts: array</td>
      <td colspan="2">Array with all discount dates for that offer</td>
  </tr>
  <tr>
      <td colspan="2">+price: integer</td>
      <td colspan="2">Unitary price for those keys </td>
  </tr>
  <tr>
      <td colspan="2">+paypalEmail: string</td>
      <td colspan="2">Id with the game that offer will be about</td>
  </tr>
  <tr>
      <td colspan="2" rowspan="4">Returns</td>
      <td colspan="2">200 OK</td>
      <td colspan="2">The insertion of the offer was sucessufull</td>
  </tr>
  <tr>
      <td colspan="2">400 Bad Request</td>
      <td colspan="2">The offer insertion was wrong.</td>
  </tr>
  <tr>
      <td colspan="2">403 Unauthorized</td>
      <td colspan="2">The offer insertion was refused.</td>
  </tr>
  <tr>
      <td colspan="2">404 Not Found</td>
      <td colspan="2">Not found</td>
 </tr>
  <tr>
      <td colspan="2">Permissions</td>
      <td colspan="4">SEL</td>
  </tr>
</table>

###### Table 72: Offer Add

---

#### R605: Offer Cancel
<table id="605">
  <tr>
    <td colspan="2">URL</td>
    <td colspan="4">/user/{idUser}/offer/{idOffer}</td>
  </tr>
  <tr>
    <td colspan="2">Description</td>
    <td colspan="4">Action to cancel/delete an offer.</td>
  </tr>
  <tr>
      <td colspan="2">Method</td>
      <td colspan="4">DELETE</td>
  </tr>
  <tr>
        <td colspan="2" rowspan="2">Parameters</td>
        <td colspan="2">+idUser: integer</td>
        <td colspan="2">ID of the user</td>
    </tr>
    <tr>
    <td colspan="2">+idOffer: integer</td>
        <td colspan="2">ID of the offer we want to edit</td>
    </tr>

  <tr>
      <td colspan="2" rowspan="4">Returns</td>
      <td colspan="2">200 OK</td>
      <td colspan="2">The insertion of the offer was sucessufull</td>
  </tr>
  <tr>
      <td colspan="2">400 Bad Request</td>
      <td colspan="2">The offer insertion was wrong.</td>
  </tr>
  <tr>
      <td colspan="2">403 Unauthorized</td>
      <td colspan="2">The offer insertion was refused.</td>
  </tr>
  <tr>
      <td colspan="2">404 Not Found</td>
      <td colspan="2">Not found</td>
 </tr>
  <tr>
      <td colspan="2">Permissions</td>
      <td colspan="4">SEL</td>
  </tr>
</table>

###### Table 73: Offer Cancel

---

### 3.7 Module Social Interaction

##### Endpoints of module: Module Social Interaction:

* R701: Feedback View [/feedback/{id}]
* R702: Report View [/report/{id}]
* R703: Report Message Add [/report/message]
* R704: Report Add [/report]
* R705: Feedback Add [/feedback]
* R706: Admin Report View[/admin/report/{id}]
* R707: Admin Report Message Add[/admin/report/{id}/message]
#### R701: Feedback View

<table id="r701">
    <tr>
        <td colspan="2">URL</td>
        <td colspan="4">/feedback/{id} </td>
    </tr>
    <tr>
        <td colspan="2">Description</td>
        <td colspan="4">View with the feedbacks made to a certain user</td>
    </tr>
    <tr>
        <td colspan="2">Method</td>
        <td colspan="4">GET</td>
    </tr>
    <tr>
        <td colspan="2" rowspan="1">Parameters</td>
        <td colspan="2">+id: integer</td>
        <td colspan="2">ID of the user </td>
    </tr>
    <tr>
    <tr>
        <td colspan="2" rowspan="2">UI</td>
        <td colspan="4"><a href="http://lbaw2043-piu.lbaw-prod.fe.up.pt/src/pages/user.php"> UI10 (User Page - Account - As own user)</a></td>
    </tr>
    <tr>
    <td colspan="4"><a href="http://lbaw2043-piu.lbaw-prod.fe.up.pt/src/pages/product.php"> UI09 (Product Page)</a></td>
    </tr>
    <tr>
        <td colspan="2">AJAX calls </td>
        <td colspan="2"><a href="#r702">R702</a></td>
        <td colspan="2">Used to get the feedback of a certain user </td>
    </tr>
    <tr>
        <td colspan="2">Permissions</td>
        <td colspan="4">PUB</td>
    </tr>
</table>

###### Table 74: Feedback View

---

#### R702: Feedback View Action
<table id="r702">
  <tr>
    <td colspan="2">URL</td>
    <td colspan="4">/api/feedback/{userId}</td>
  </tr>
  <tr>
    <td colspan="2">Description</td>
    <td colspan="4">Action that returns all feedback for a certain user using AJAX</td>
  </tr>
  <tr>
      <td colspan="2">Method</td>
      <td colspan="4">GET</td>
  </tr>
  <tr>
      <td colspan="2">Parameters</td>
      <td colspan="2">+userId: integer</td>
      <td colspan="2">ID of the user we want to get the feedback</td>
  </tr>
  <tr>
      <td colspan="2">Response Body</td>
      <td colspan="4"><a href="#j702">JSON702</a></td>
  </tr>
  <tr>
      <td colspan="2">Permissions</td>
      <td colspan="4">PUB</td>
  </tr>
</table>

###### Table 75: Feedback View Action

---

#### R702: User Report View
<table id="r702">
    <tr>
        <td colspan="2">URL</td>
        <td colspan="4">/report/{id}</td>
    </tr>
    <tr>
        <td colspan="2">Description</td>
        <td colspan="4">View a report that a user has made or that was made against him</td>
    </tr>
    <tr>
        <td colspan="2">Method</td>
        <td colspan="4">GET</td>
    </tr>
    <tr>
        <td colspan="2" rowspan="1">Parameters</td>
        <td colspan="2">+id: integer</td>
        <td colspan="2">ID of the user</td>
    </tr>
    <tr>
        <td colspan="2">UI</td>
        <td colspan="4"><a href="http://lbaw2043-piu.lbaw-prod.fe.up.pt/src/pages/user_reports.php">UI14 (Report - Report Details )</a></td>
    </tr>
    <tr>
        <td colspan="2">AJAX calls </td>
        <td colspan="2"><a href="#r703">R703</a></td>
        <td colspan="2">Add a new message </td>
    </tr>
    <tr>
        <td colspan="2">Permissions</td>
        <td colspan="4">BUY</td>
    </tr>
</table>

###### Table 75: User Report View

---

#### R703: Report Message Add
<table id="r703">
  <tr>
    <td colspan="2">URL</td>
    <td colspan="4">/report/message</td>
  </tr>
  <tr>
    <td colspan="2">Description</td>
    <td colspan="4">Action to submit an AJAX request insert a new message to the report</td>
  </tr>
  <tr>
      <td colspan="2">Method</td>
      <td colspan="4">POST</td>
  </tr>
  <tr>
      <td colspan="2" rowspan="3">Request Body</td>
      <td colspan="2">+reportId: integer</td>
      <td colspan="2">Id of the current report</td>
  </tr>
  <tr>
      <td colspan="2">+userId: integer</td>
      <td colspan="2">Id of the user uploading the image</td>
  </tr>
  <tr>
      <td colspan="2">+message: string</td>
      <td colspan="2">Text of the message</td>
  </tr>
  <tr>
      <td colspan="2" rowspan="3">Returns</td>
      <td colspan="2">200 OK</td>
      <td colspan="2">The message was sucessfull upload to the database
      </td>
  </tr>
  <tr>
      <td colspan="2">400 Bad Request </td>
      <td colspan="2">The message was not sucessfull uploaded </td>
  </tr>
  <tr>
      <td colspan="2">401 Unauthorized </td>
      <td colspan="2">The user was not permissions to upload that message </td>
  </tr>
  <tr>
      <td colspan="2">Permissions</td>
      <td colspan="4">ACTUSER</td>
  </tr>
</table>

###### Table 76: Report Message Add

---

#### R704: Report Add
<table id="r704">
  <tr>
    <td colspan="2">URL</td>
    <td colspan="4">/report</td>
  </tr>
  <tr>
    <td colspan="2">Description</td>
    <td colspan="4">Action to submit an AJAX request with a report entry</td>
  </tr>
  <tr>
      <td colspan="2">Method</td>
      <td colspan="4">POST</td>
  </tr>
  <tr>
      <td colspan="2" rowspan="4">Request Body</td>
      <td colspan="2">+orderId: integer</td>
      <td colspan="2">Id of the target reporting order</td>
  </tr>
  <tr>
      <td colspan="2">+userId: integer</td>
      <td colspan="2">Id of the user uploading the report</td>
  </tr>
  <tr>
      <td colspan="2">+title: string</td>
      <td colspan="2">Text with the title for the report</td>
  </tr>
  <tr>
      <td colspan="2">+description: string</td>
      <td colspan="2">Text with the description for the report</td>
  </tr>
  <tr>
      <td colspan="2" rowspan="3">Returns</td>
      <td colspan="2">200 OK</td>
      <td colspan="2">The report was sucessfull upload to the database
      </td>
  </tr>
  <tr>
      <td colspan="2">400 Bad Request </td>
      <td colspan="2">The report was not sucessfull uploaded </td>
  </tr>
  <tr>
      <td colspan="2">401 Unauthorized </td>
      <td colspan="2">The user was not permissions to upload that report </td>
  </tr>
  <tr>
      <td colspan="2">Permissions</td>
      <td colspan="4">ACTUSER</td>
  </tr>
</table>

###### Table 77: Report Add

---

#### R705: Feedback Add
<table id="r705">
  <tr>
    <td colspan="2">URL</td>
    <td colspan="4">/feedback</td>
  </tr>
  <tr>
    <td colspan="2">Description</td>
    <td colspan="4">Action to submit an AJAX request with a feedback entry</td>
  </tr>
  <tr>
      <td colspan="2">Method</td>
      <td colspan="4">POST</td>
  </tr>
  
  <tr>
      <td colspan="2" rowspan="4">Request Body</td>
      <td colspan="2">+orderId: integer</td>
      <td colspan="2">Id of the target feedback order</td>
  </tr>
  <tr>
      <td colspan="2">+userId: integer</td>
      <td colspan="2">Id of the user uploading the report</td>
  </tr>
  <tr>
      <td colspan="2">+evaluation: string</td>
      <td colspan="2">Text with the title for the report</td>
  </tr>
  <tr>
      <td colspan="2">?comment: string</td>
      <td colspan="2">Text with the comment for the report</td>
  </tr>
  <tr>
      <td colspan="2" rowspan="3">Returns</td>
      <td colspan="2">200 OK</td>
      <td colspan="2">The report was sucessfull upload to the database
      </td>
  </tr>
  <tr>
      <td colspan="2">400 Bad Request </td>
      <td colspan="2">The report was not sucessfull uploaded </td>
  </tr>
  <tr>
      <td colspan="2">401 Unauthorized </td>
      <td colspan="2">The user was not permissions to upload that report </td>
  </tr>
  <tr>
      <td colspan="2">Permissions</td>
      <td colspan="4">BUY</td>
  </tr>
</table>

###### Table 78: Feedback Add
---

#### R706: Admin Report View
<table id="r706">
    <tr>
        <td colspan="2">URL</td>
        <td colspan="4">/admin/report/{id}</td>
    </tr>
    <tr>
        <td colspan="2">Description</td>
        <td colspan="4">View a report made by a buyer</td>
    </tr>
    <tr>
        <td colspan="2">Method</td>
        <td colspan="4">GET</td>
    </tr>
    <tr>
        <td colspan="2" rowspan="1">Parameters</td>
        <td colspan="2">+id: integer</td>
        <td colspan="2">ID of the report</td>
    </tr>
    <tr>
        <td colspan="2">UI13</td>
        <td colspan="4">User Page - Reports</td>
    </tr>
    <tr>
        <td colspan="2">AJAX calls </td>
        <td colspan="4"><a href="#r707">R707</a></td>
    </tr>
    <tr>
        <td colspan="2">Permissions</td>
        <td colspan="4">ADM</td>
    </tr>
</table>

###### Table 78: Admin Report View
---

#### R707: Report Message Add
<table id="r707">
  <tr>
    <td colspan="2">URL</td>
    <td colspan="4">/admin/report/message</td>
  </tr>
  <tr>
    <td colspan="2">Description</td>
    <td colspan="4">Action to submit an AJAX request insert a new message to the report</td>
  </tr>
  <tr>
      <td colspan="2">Method</td>
      <td colspan="4">POST</td>
  </tr>
  <tr>
      <td colspan="2" rowspan="3">Request Body</td>
      <td colspan="2">+reportId: integer</td>
      <td colspan="2">Id of the current report</td>
  </tr>
  <tr>
      <td colspan="2">+userId: integer</td>
      <td colspan="2">Id of the user uploading the image</td>
  </tr>
  <tr>
      <td colspan="2">+message: string</td>
      <td colspan="2">Text of the message</td>
  </tr>
  <tr>
      <td colspan="2" rowspan="3">Returns</td>
      <td colspan="2">200 OK</td>
      <td colspan="2">The message was sucessfull upload to the database
      </td>
  </tr>
  <tr>
      <td colspan="2">400 Bad Request </td>
      <td colspan="2">The message was not sucessfull uploaded </td>
  </tr>
  <tr>
      <td colspan="2">401 Unauthorized </td>
      <td colspan="2">The user was not permissions to upload that message </td>
  </tr>
  <tr>
      <td colspan="2">Permissions</td>
      <td colspan="4">ADM</td>
  </tr>
</table>

###### Table 79: Report Message Add
---
## 4. JSON/XML Types

<span id = "j300"></span>
#### JSON300: General Return ID: {id}[]
```json
{
  "id": "23"
}
```

<span id = "j303"></span>
#### JSON303: Products Listing Action: {products}[]
```json
{
  "products": [
    {
      "id": "1",
      "title": "GTA V (PC)",
      "platform": "1",
      "image": "O8GHTDJN12UMHN4B9813128B1231",
      "price": "25.99"
    },
    {
      "id": "2",
      "title": "Rocket League (PS4)",
      "platform": "3",
      "image": "873Q20HFR8934IVY804UN5GN409",
      "price": "12.99"
    }
  ]
}
```
<span id = "j304"></span>
#### JSON304: Products Search: {products}[]
```json
{
  "products": [
    {
      "id": "1",
      "title": "GTA V (PC)",
      "platform": "1",
      "image": "O8GHTDJN12UMHN4B9813128B1231",
      "price": "25.99"
    },
    {
      "id": "2",
      "title": "Rocket League (PS4)",
      "platform": "3",
      "image": "873Q20HFR8934IVY804UN5GN409",
      "price": "12.99"
    }
  ]
}
```
<span id = "j311"></span>
#### JSON311: Categories Listing Action: {categories}[]
```json
{
  "categories": [
    {
      "id": "1",
      "name": "Game",
    },
    {
      "id": "2",
      "name": "DLC",
    }
  ]
}
```
<span id = "j316"></span>
#### JSON316: Genres Listing Action: {genres}[]
```json
{
  "genres": [
    {
      "id": "1",
      "name": "Game",
    },
    {
      "id": "2",
      "name": "DLC",
    }
  ]
}
```
<span id = "j321"></span>
#### JSON321: Platform Listing Action: {platforms}[]
```json
{
  "platforms": [
    {
      "id": "1",
      "name": "Game",
    },
    {
      "id": "2",
      "name": "DLC",
    }
  ]
}
```

<span id = "j326"></span>
#### JSON326: Users Listing Action: {users}[]
```json
{
  "users": [
    {
      "id": "1",
      "userName": "lockdownPT",
       "image": "O8GHTDJN12UMHN4B9813128B1231",
    },
    {
      "id": "2",
      "userName": "Motapinto",
       "image": "O8GHTDJN12UMHN4B9813128B1231",
    },
  ]
}
```
<span id = "j327"></span>
#### JSON327: Users Search Action: {users}[]
```json
{
  "users": [
    {
      "id": "1",
      "userName": "lockdownPT",
       "image": "O8GHTDJN12UMHN4B9813128B1231",
    },
    {
      "id": "2",
      "userName": "Motapinto",
       "image": "O8GHTDJN12UMHN4B9813128B1231",
    },
  ]
}
```
<span id = "j330"></span>
#### JSON330: Reports Listing Action: {report}[]
```json
{
  "report": [
    {
      "id": "1",
      "reporter": "lockdownPT",
       "report": "He is Fake",
       "status":"Closed"
    },
    {
      "id": "2",
      "reporter": "Motapinto",
       "report": "He is Fake",
       "status":"Open"
    },
  ]
}
```

<span id = "j332"></span>
#### JSON332: Transactions Listing Action: {transaction}[]
```json
{
  "transaction": [
    {
      "id": "1",
      "seller": "lockdownPT",
       "buyer": "Motapinto",
       "totalPrice":"50"
    },
    {
      "id": "2",
      "seller": "Motapinto",
       "buyer": "LockdownPT",
       "totalPrice":"50"
    },
  ]
}
```

<span id = "j333"></span>
#### JSON333: Transactions Search Action: {transaction}[]
```json
{
  "transaction": [
    {
      "id": "1",
      "seller": "lockdownPT",
       "buyer": "Motapinto",
       "totalPrice":"50"
    },
    {
      "id": "2",
      "seller": "Motapinto",
       "buyer": "LockdownPT",
       "totalPrice":"50"
    },
  ]
}
```
<span id = "j335"></span>
#### JSON335: Reviews Listing Action: {review}[]
```json
{
  "review": [
    {
      "id": "1",
      "date": "2019/05/04",
       "author": "LockdownPT",
       "target":"Ruben Almeida"
    },
    {
      "id": "2",
      "date": "2019/05/04",
      "author": "Ruben Almeida",
      "target":"LockdownPT"
    },
  ]
}
```
<span id = "j338"></span>
#### JSON338: FAQ Listing Action: {faq}[]
```json
{
  "faq": [
    {
      "id": "1",
      "question": "This is a question",
       "answer": "This is an answer",
       "target":"Ruben Almeida"
    },
    {
      "id": "2",
      "date": "2019/05/04",
      "author": "Ruben Almeida",
      "target":"LockdownPT"
    },
  ]
}
```

<span id = "j404"></span>
#### JSON404: Listing restriction: {products}[]
```json
{
  "products": [
    {
      "id": "1",
      "title": "GTA V (PC)",
      "platform": "1",
      "image": "O8GHTDJN12UMHN4B9813128B1231",
      "price": "25.99"
    },
    {
      "id": "2",
      "title": "Rocket League (PS4)",
      "platform": "3",
      "image": "873Q20HFR8934IVY804UN5GN409",
      "price": "12.99"
    }
  ]
}
```
<span id = "j405"></span>
#### JSON405: Offers ordering: {offers}[]
```json
{
  "offers": [
    {
      "id": "1",
      "seller": "bestseller439",
      "feedback": "99",
      "numSells": "1897",
      "stock": "10",
      "price": "39.00"
    },
    {
      "id": "29",
      "seller": "okseller583",
      "feedback": "70",
      "numSells": "156",
      "stock": "2",
      "price": "37.59"
    }
  ]
}
```
<span id = "j505"></span>
#### JSON505: Checkout Action: {checkout}[]
```json
{
  "checkout": [
    {
        "offerId":1,
        "seller":4,
        "key":"22131-ASSDASD-1231312",
        "price":40.57
      
    },
    {
        "offerId":2,
        "seller":7,
        "key":"23asd1-bdwrtSDArteqweSD-0032132",
        "price":19.99
    }
  ]
}
```
<span id = "j702"></span>
#### JSON702: Feedback View: {feedback}[]
```json
{
  "feedback": [
    {
        "id":"1",
        "evaluation":"true",
        "comment":"He is great",
        "evaluation_date":"2020/01/20",
        "author":"okseller583"      
    },
    {
        "id":"2",
        "evaluation":"false",
        "comment":"He is not great",
        "evaluation_date":"2020/02/20",
        "author":"notokseller583"      
    }
  ]
}
```
---

## Revision history

Changes made to the first submission:


***
GROUP2043, 16/04/2020

* Luís Ramos, up201706253@fe.up.pt (Editor)
* José Guerra, up201706421@fe.up.pt
* Martim Silva, up201705205@fe.up.pt 
* Ruben Almeida, up201704618@fe.up.pt
